{"version":3,"sources":["vendor/Blob.js","vendor/canvas-toBlob.js","components/ThemeProvider/global-styles.js","components/ThemeProvider/theme.js","components/ThemeProvider/index.js","contexts/mediaQuery/mediaContext.js","contexts/mediaQuery/mqHook.js","contexts/mediaQuery/MediaProvider.js","contexts/header/context.js","contexts/header/Provider.js","containers/DataManager.js","containers/ChartEditor.js","components/Text.js","components/Charts/ScatterLink.js","components/Charts/getExtent.js","components/Box.js","containers/GrowthScatter/HightlightCheckbox.js","components/Link.js","components/Button.js","utils/svgToCanvas.js","containers/DownloadChart.js","containers/GrowthScatter/index.js","components/Charts/Choropleth.js","utils/arrToObj.js","utils/useTsv.js","containers/CountryChoro/countries.tsv","containers/CountryChoro/index.js","components/Flex.js","containers/Header.js","containers/Layout.js","App.js","index.js"],"names":["global","window","self","this","BlobBuilder","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","URL","webkitURL","href","a","document","createElement","origBlob","Blob","createObjectURL","revokeObjectURL","strTag","Symbol","toStringTag","blobSupported","blobSupportsArrayBufferView","arrayBufferSupported","ArrayBuffer","blobBuilderSupported","prototype","append","getBlob","size","Uint8Array","e","mapArrayBufferViews","ary","map","chunk","buffer","buf","byteLength","copy","set","byteOffset","BlobBuilderConstructor","options","bb","forEach","part","type","BlobConstructor","textEncode","TextEncoder","encode","bind","string","pos","len","length","Arr","Array","at","tlen","Math","max","target","value","charCodeAt","extra","update","slice","textDecode","TextDecoder","decode","end","res","i","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","push","str","String","fromCharCode","apply","fixFileAndXHR","isIE","ActiveXObject","documentElement","style","_send","XMLHttpRequest","send","data","setRequestHeader","call","File","klass","Function","b","d","c","blob","t","lastModified","Date","name","replace","lastModifiedDate","toString","bufferClone","view","array","array2base64","input","byteToCharMap","output","byte1","haveByte2","byte2","haveByte3","byte3","outByte1","outByte2","outByte3","outByte4","join","create","Object","viewClasses","isArrayBufferView","isView","obj","indexOf","chunks","opts","_buffer","isPrototypeOf","DataView","offset","l","concatTypedarrays","concat","test","toLowerCase","arrayBuffer","Promise","resolve","text","start","constructor","setPrototypeOf","__proto__","FileReader","TypeError","delegate","createDocumentFragment","addEventListener","dispatchEvent","evt","local","removeEventListener","_read","fr","kind","result","setTimeout","readyState","LOADING","Event","EMPTY","DONE","error","onabort","onerror","onload","onloadend","onloadstart","onprogress","readAsDataURL","readAsText","readAsArrayBuffer","abort","url","FakeBlobBuilder","stream","promisify","reject","Error","ReadableStream","position","autoAllocateChunkSize","pull","controller","v","byobRequest","then","uint8array","bytesRead","respond","close","enqueue","Response","body","getReader","read","base64_ranks","HTMLCanvasElement","canvas_proto","is_base64_regex","to_data_url","decode_base64","base64","rank","code","outptr","last","state","save","undef","toBlob","toBlobHD","callback","mozGetAsFile","msToBlob","args","arguments","dataURI","header_end","substring","is_base64","fake","encoding","decodeURIComponent","toDataURLHD","content","css","breakpoints","em","responsiveIndex","responsiveMap","_","id","findIndex","responsive","memoizeOne","argsLen","get","font","overrides","fonts","heading","mono","colors","theme","primary","secondary","danger","chart","red","green","blue","yellow","orange","containerWidth","headerHeight","customTheme","extendTheme","ReThemeProvider","children","resetCSS","styles","globalStyles","createContext","useMq","bp","useMediaQuery","query","MediaQuery","q","mqHook","Provider","hideHeader","setHideHeader","useState","StyledTable","styled","Table","swapObj","values","entries","filter","fromEntries","DataManager","onValueChange","onConfigChange","config","fields","ref","useRef","formik","useFormik","initialValues","isEditing","setIsEditing","handleClick","useCallback","current","useEffect","availFields","useMemo","differenceBy","columns","keys","key","title","alignItems","p","placeholder","onChange","handleChange","val","label","icon","onClick","setFieldValue","dataIndex","defaultValue","mt","justifyContent","spacing","mb","variant","setValues","leftIcon","scroll","y","rowKey","useFixedHeader","requiredFields","scatter","x1","x2","y1","y2","group","ChartRenderer","hasError","errorInfo","console","my","fontSize","color","props","PureComponent","ChartEditor","useLocalStorage","setConfig","pastedData","setPastedData","tsvParse","ReText","Text","Inline","forwardRef","as","Bold","fontWeight","Thin","range","tooltipTimeout","getExtent","accessor","maxBy","min","minBy","defaultMargin","top","right","bottom","left","tooltipStyles","defaultStyles","padding","minWidth","backgroundColor","perFormat","format","commaFormat","commaSignedFormat","Legend","x","fill","Group","width","height","ScatterLink","margin","xScaleBase","xScale","yScaleBase","yScale","series","highlight","useTooltip","tooltipOpen","tooltipLeft","tooltipTop","tooltipData","hideTooltip","showTooltip","useMeasure","measureRef","canvasSize","useToken","chartRed","chartGreen","useTooltipInPortal","containerRef","TooltipInPortal","allData","reduce","all","xMax","yMax","domain","xTickValues","log10","ceil","viewBox","composeRefs","fontFamily","BarRounded","radius","GridRows","scale","stroke","strokeOpacity","strokeDasharray","GridColumns","tickValues","AxisBottom","strokeWidth","tickFormat","tickLabelProps","textAnchor","AxisLeft","hideAxisLine","hideTicks","j","isHighlight","isObject","industry","item","Line","className","from","to","opacity","onMouseLeave","onMouseMove","event","clearTimeout","eventSvgCoords","localPoint","diff","Circle","cx","cy","r","s","py","ReBox","Box","display","verticalAlign","Absolute","FullAbs","Relative","Fixed","Invisible","overflow","OptionGroups","checkedItems","allChecked","every","Boolean","isIndeterminate","some","colorScheme","isChecked","checked","wrap","n","m","HightlightCheckbox","nameKey","groups","sort","flexWrap","mx","g","border","borderColor","Link","ReButton","defaultProps","Secondary","Danger","PIXEL_RATIO","ctx","getContext","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","svgToCanvas","svgStr","canvas","w","h","ratio","can","setTransform","setHiDPICanvas","encodeURIComponent","image","Image","drawImage","src","DownloadChart","chartRef","downloading","setDownloading","handleDownload","date","toLocaleDateString","serializer","XMLSerializer","source","serializeToString","saveAs","Button","isLoading","GrowthScatter","svgRef","groupBy","filteredData","mapValues","k","requiredDone","bg","rounded","scaleLog","scaleLinear","world","topojson","topology","objects","countries","Choropleth","centerX","centerY","colorScale","scaleQuantize","keyedData","arr","isArray","legend","renderMap","mercator","features","feature","path","properties","transformOrigin","transform","Mercator","center","translate","clipExtent","useTsv","loading","setLoading","setError","setData","tsv","catch","CountryChoro","country","countryEn","en","eng","namedData","missedData","ReFlex","Flex","Vertical","direction","links","Header","siteTitle","zIndex","px","flex","RouterLink","Layout","useContext","headerContext","minHeight","pt","App","ReactDOM","render","ThemeProvider","MediaProvider","getElementById"],"mappings":"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","file":"static/js/main.ea735bda.chunk.js","sourcesContent":["/* eslint-disable */\r\n/* Blob.js\r\n * A Blob, File, FileReader & URL implementation.\r\n * 2019-04-19\r\n *\r\n * By Eli Grey, http://eligrey.com\r\n * By Jimmy Wärting, https://github.com/jimmywarting\r\n * License: MIT\r\n *   See https://github.com/eligrey/Blob.js/blob/master/LICENSE.md\r\n */\r\n\r\n;(function () {\r\n  var global = typeof window === 'object'\r\n      ? window : typeof self === 'object'\r\n      ? self : this\r\n\r\n  var BlobBuilder = global.BlobBuilder\r\n    || global.WebKitBlobBuilder\r\n    || global.MSBlobBuilder\r\n    || global.MozBlobBuilder\r\n\r\n  global.URL = global.URL || global.webkitURL || function (href, a) {\r\n  \ta = document.createElement('a')\r\n  \ta.href = href\r\n  \treturn a\r\n  }\r\n\r\n  var origBlob = global.Blob\r\n  var createObjectURL = URL.createObjectURL\r\n  var revokeObjectURL = URL.revokeObjectURL\r\n  var strTag = global.Symbol && global.Symbol.toStringTag\r\n  var blobSupported = false\r\n  var blobSupportsArrayBufferView = false\r\n  var arrayBufferSupported = !!global.ArrayBuffer\r\n  var blobBuilderSupported = BlobBuilder\r\n    && BlobBuilder.prototype.append\r\n    && BlobBuilder.prototype.getBlob\r\n\r\n  try {\r\n    // Check if Blob constructor is supported\r\n    blobSupported = new Blob(['ä']).size === 2\r\n\r\n    // Check if Blob constructor supports ArrayBufferViews\r\n    // Fails in Safari 6, so we need to map to ArrayBuffers there.\r\n    blobSupportsArrayBufferView = new Blob([new Uint8Array([1, 2])]).size === 2\r\n  } catch (e) {}\r\n\r\n  /**\r\n   * Helper function that maps ArrayBufferViews to ArrayBuffers\r\n   * Used by BlobBuilder constructor and old browsers that didn't\r\n   * support it in the Blob constructor.\r\n   */\r\n  function mapArrayBufferViews (ary) {\r\n    return ary.map(function (chunk) {\r\n      if (chunk.buffer instanceof ArrayBuffer) {\r\n        var buf = chunk.buffer\r\n\r\n        // if this is a subarray, make a copy so we only\r\n        // include the subarray region from the underlying buffer\r\n        if (chunk.byteLength !== buf.byteLength) {\r\n          var copy = new Uint8Array(chunk.byteLength)\r\n          copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength))\r\n          buf = copy.buffer\r\n        }\r\n\r\n        return buf\r\n      }\r\n\r\n      return chunk\r\n    })\r\n  }\r\n\r\n  function BlobBuilderConstructor (ary, options) {\r\n    options = options || {}\r\n\r\n    var bb = new BlobBuilder()\r\n    mapArrayBufferViews(ary).forEach(function (part) {\r\n      bb.append(part)\r\n    })\r\n\r\n    return options.type ? bb.getBlob(options.type) : bb.getBlob()\r\n  }\r\n\r\n  function BlobConstructor (ary, options) {\r\n    return new origBlob(mapArrayBufferViews(ary), options || {})\r\n  }\r\n\r\n  if (global.Blob) {\r\n    BlobBuilderConstructor.prototype = Blob.prototype\r\n    BlobConstructor.prototype = Blob.prototype\r\n  }\r\n\r\n\r\n\r\n  /********************************************************/\r\n  /*               String Encoder fallback                */\r\n  /********************************************************/\r\n  function stringEncode (string) {\r\n    var pos = 0\r\n    var len = string.length\r\n    var Arr = global.Uint8Array || Array // Use byte array when possible\r\n\r\n    var at = 0  // output position\r\n    var tlen = Math.max(32, len + (len >> 1) + 7)  // 1.5x size\r\n    var target = new Arr((tlen >> 3) << 3)  // ... but at 8 byte offset\r\n\r\n    while (pos < len) {\r\n      var value = string.charCodeAt(pos++)\r\n      if (value >= 0xd800 && value <= 0xdbff) {\r\n        // high surrogate\r\n        if (pos < len) {\r\n          var extra = string.charCodeAt(pos)\r\n          if ((extra & 0xfc00) === 0xdc00) {\r\n            ++pos\r\n            value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000\r\n          }\r\n        }\r\n        if (value >= 0xd800 && value <= 0xdbff) {\r\n          continue  // drop lone surrogate\r\n        }\r\n      }\r\n\r\n      // expand the buffer if we couldn't write 4 bytes\r\n      if (at + 4 > target.length) {\r\n        tlen += 8  // minimum extra\r\n        tlen *= (1.0 + (pos / string.length) * 2)  // take 2x the remaining\r\n        tlen = (tlen >> 3) << 3  // 8 byte offset\r\n\r\n        var update = new Uint8Array(tlen)\r\n        update.set(target)\r\n        target = update\r\n      }\r\n\r\n      if ((value & 0xffffff80) === 0) {  // 1-byte\r\n        target[at++] = value  // ASCII\r\n        continue\r\n      } else if ((value & 0xfffff800) === 0) {  // 2-byte\r\n        target[at++] = ((value >> 6) & 0x1f) | 0xc0\r\n      } else if ((value & 0xffff0000) === 0) {  // 3-byte\r\n        target[at++] = ((value >> 12) & 0x0f) | 0xe0\r\n        target[at++] = ((value >> 6) & 0x3f) | 0x80\r\n      } else if ((value & 0xffe00000) === 0) {  // 4-byte\r\n        target[at++] = ((value >> 18) & 0x07) | 0xf0\r\n        target[at++] = ((value >> 12) & 0x3f) | 0x80\r\n        target[at++] = ((value >> 6) & 0x3f) | 0x80\r\n      } else {\r\n        // FIXME: do we care\r\n        continue\r\n      }\r\n\r\n      target[at++] = (value & 0x3f) | 0x80\r\n    }\r\n\r\n    return target.slice(0, at)\r\n  }\r\n\r\n  /********************************************************/\r\n  /*               String Decoder fallback                */\r\n  /********************************************************/\r\n  function stringDecode (buf) {\r\n    var end = buf.length\r\n    var res = []\r\n\r\n    var i = 0\r\n    while (i < end) {\r\n      var firstByte = buf[i]\r\n      var codePoint = null\r\n      var bytesPerSequence = (firstByte > 0xEF) ? 4\r\n        : (firstByte > 0xDF) ? 3\r\n          : (firstByte > 0xBF) ? 2\r\n            : 1\r\n\r\n      if (i + bytesPerSequence <= end) {\r\n        var secondByte, thirdByte, fourthByte, tempCodePoint\r\n\r\n        switch (bytesPerSequence) {\r\n          case 1:\r\n            if (firstByte < 0x80) {\r\n              codePoint = firstByte\r\n            }\r\n            break\r\n          case 2:\r\n            secondByte = buf[i + 1]\r\n            if ((secondByte & 0xC0) === 0x80) {\r\n              tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\r\n              if (tempCodePoint > 0x7F) {\r\n                codePoint = tempCodePoint\r\n              }\r\n            }\r\n            break\r\n          case 3:\r\n            secondByte = buf[i + 1]\r\n            thirdByte = buf[i + 2]\r\n            if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\r\n              tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\r\n              if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\r\n                codePoint = tempCodePoint\r\n              }\r\n            }\r\n            break\r\n          case 4:\r\n            secondByte = buf[i + 1]\r\n            thirdByte = buf[i + 2]\r\n            fourthByte = buf[i + 3]\r\n            if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\r\n              tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\r\n              if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\r\n                codePoint = tempCodePoint\r\n              }\r\n            }\r\n        }\r\n      }\r\n\r\n      if (codePoint === null) {\r\n        // we did not generate a valid codePoint so insert a\r\n        // replacement char (U+FFFD) and advance only 1 byte\r\n        codePoint = 0xFFFD\r\n        bytesPerSequence = 1\r\n      } else if (codePoint > 0xFFFF) {\r\n        // encode to utf16 (surrogate pair dance)\r\n        codePoint -= 0x10000\r\n        res.push(codePoint >>> 10 & 0x3FF | 0xD800)\r\n        codePoint = 0xDC00 | codePoint & 0x3FF\r\n      }\r\n\r\n      res.push(codePoint)\r\n      i += bytesPerSequence\r\n    }\r\n\r\n    var len = res.length\r\n    var str = ''\r\n    var i = 0\r\n\r\n    while (i < len) {\r\n      str += String.fromCharCode.apply(String, res.slice(i, i += 0x1000))\r\n    }\r\n\r\n    return str\r\n  }\r\n\r\n  // string -> buffer\r\n  var textEncode = typeof TextEncoder === 'function'\r\n    ? TextEncoder.prototype.encode.bind(new TextEncoder())\r\n    : stringEncode\r\n\r\n  // buffer -> string\r\n  var textDecode = typeof TextDecoder === 'function'\r\n    ? TextDecoder.prototype.decode.bind(new TextDecoder())\r\n    : stringDecode\r\n\r\n  function FakeBlobBuilder () {\r\n    function isDataView (obj) {\r\n      return obj && DataView.prototype.isPrototypeOf(obj)\r\n    }\r\n    function bufferClone (buf) {\r\n      var view = new Array(buf.byteLength)\r\n      var array = new Uint8Array(buf)\r\n      var i = view.length\r\n      while (i--) {\r\n        view[i] = array[i]\r\n      }\r\n      return view\r\n    }\r\n    function array2base64 (input) {\r\n      var byteToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\r\n\r\n      var output = []\r\n\r\n      for (var i = 0; i < input.length; i += 3) {\r\n        var byte1 = input[i]\r\n        var haveByte2 = i + 1 < input.length\r\n        var byte2 = haveByte2 ? input[i + 1] : 0\r\n        var haveByte3 = i + 2 < input.length\r\n        var byte3 = haveByte3 ? input[i + 2] : 0\r\n\r\n        var outByte1 = byte1 >> 2\r\n        var outByte2 = ((byte1 & 0x03) << 4) | (byte2 >> 4)\r\n        var outByte3 = ((byte2 & 0x0F) << 2) | (byte3 >> 6)\r\n        var outByte4 = byte3 & 0x3F\r\n\r\n        if (!haveByte3) {\r\n          outByte4 = 64\r\n\r\n          if (!haveByte2) {\r\n            outByte3 = 64\r\n          }\r\n        }\r\n\r\n        output.push(\r\n          byteToCharMap[outByte1], byteToCharMap[outByte2],\r\n          byteToCharMap[outByte3], byteToCharMap[outByte4]\r\n        )\r\n      }\r\n\r\n      return output.join('')\r\n    }\r\n\r\n    var create = Object.create || function (a) {\r\n      function c () {}\r\n      c.prototype = a\r\n      return new c()\r\n    }\r\n\r\n    if (arrayBufferSupported) {\r\n      var viewClasses = [\r\n        '[object Int8Array]',\r\n        '[object Uint8Array]',\r\n        '[object Uint8ClampedArray]',\r\n        '[object Int16Array]',\r\n        '[object Uint16Array]',\r\n        '[object Int32Array]',\r\n        '[object Uint32Array]',\r\n        '[object Float32Array]',\r\n        '[object Float64Array]'\r\n      ]\r\n\r\n      var isArrayBufferView = ArrayBuffer.isView || function (obj) {\r\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\r\n      }\r\n    }\r\n\r\n    function concatTypedarrays (chunks) {\r\n      var size = 0\r\n      var i = chunks.length\r\n      while (i--) { size += chunks[i].length }\r\n      var b = new Uint8Array(size)\r\n      var offset = 0\r\n      for (i = 0, l = chunks.length; i < l; i++) {\r\n        var chunk = chunks[i]\r\n        b.set(chunk, offset)\r\n        offset += chunk.byteLength || chunk.length\r\n      }\r\n\r\n      return b\r\n    }\r\n\r\n    /********************************************************/\r\n    /*                   Blob constructor                   */\r\n    /********************************************************/\r\n    function Blob (chunks, opts) {\r\n      chunks = chunks || []\r\n      opts = opts == null ? {} : opts\r\n      for (var i = 0, len = chunks.length; i < len; i++) {\r\n        var chunk = chunks[i]\r\n        if (chunk instanceof Blob) {\r\n          chunks[i] = chunk._buffer\r\n        } else if (typeof chunk === 'string') {\r\n          chunks[i] = textEncode(chunk)\r\n        } else if (arrayBufferSupported && (ArrayBuffer.prototype.isPrototypeOf(chunk) || isArrayBufferView(chunk))) {\r\n          chunks[i] = bufferClone(chunk)\r\n        } else if (arrayBufferSupported && isDataView(chunk)) {\r\n          chunks[i] = bufferClone(chunk.buffer)\r\n        } else {\r\n          chunks[i] = textEncode(String(chunk))\r\n        }\r\n      }\r\n\r\n      this._buffer = global.Uint8Array\r\n        ? concatTypedarrays(chunks)\r\n        : [].concat.apply([], chunks)\r\n      this.size = this._buffer.length\r\n\r\n      this.type = opts.type || ''\r\n      if (/[^\\u0020-\\u007E]/.test(this.type)) {\r\n        this.type = ''\r\n      } else {\r\n        this.type = this.type.toLowerCase()\r\n      }\r\n    }\r\n\r\n    Blob.prototype.arrayBuffer = function () {\r\n      return Promise.resolve(this._buffer)\r\n    }\r\n\r\n    Blob.prototype.text = function () {\r\n      return Promise.resolve(textDecode(this._buffer))\r\n    }\r\n\r\n    Blob.prototype.slice = function (start, end, type) {\r\n      var slice = this._buffer.slice(start || 0, end || this._buffer.length)\r\n      return new Blob([slice], {type: type})\r\n    }\r\n\r\n    Blob.prototype.toString = function () {\r\n      return '[object Blob]'\r\n    }\r\n\r\n    /********************************************************/\r\n    /*                   File constructor                   */\r\n    /********************************************************/\r\n    function File (chunks, name, opts) {\r\n      opts = opts || {}\r\n      var a = Blob.call(this, chunks, opts) || this\r\n      a.name = name.replace(/\\//g, ':')\r\n      a.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date()\r\n      a.lastModified = +a.lastModifiedDate\r\n\r\n      return a\r\n    }\r\n\r\n    File.prototype = create(Blob.prototype)\r\n    File.prototype.constructor = File\r\n\r\n    if (Object.setPrototypeOf) {\r\n      Object.setPrototypeOf(File, Blob)\r\n    } else {\r\n      try { File.__proto__ = Blob } catch (e) {}\r\n    }\r\n\r\n    File.prototype.toString = function () {\r\n      return '[object File]'\r\n    }\r\n\r\n    /********************************************************/\r\n    /*                FileReader constructor                */\r\n    /********************************************************/\r\n    function FileReader () {\r\n    \tif (!(this instanceof FileReader)) {\r\n        throw new TypeError(\"Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\")\r\n      }\r\n\r\n    \tvar delegate = document.createDocumentFragment()\r\n    \tthis.addEventListener = delegate.addEventListener\r\n    \tthis.dispatchEvent = function (evt) {\r\n    \t\tvar local = this['on' + evt.type]\r\n    \t\tif (typeof local === 'function') local(evt)\r\n    \t\tdelegate.dispatchEvent(evt)\r\n    \t}\r\n    \tthis.removeEventListener = delegate.removeEventListener\r\n    }\r\n\r\n    function _read (fr, blob, kind) {\r\n    \tif (!(blob instanceof Blob)) {\r\n        throw new TypeError(\"Failed to execute '\" + kind + \"' on 'FileReader': parameter 1 is not of type 'Blob'.\")\r\n      }\r\n\r\n    \tfr.result = ''\r\n\r\n    \tsetTimeout(function () {\r\n    \t\tthis.readyState = FileReader.LOADING\r\n    \t\tfr.dispatchEvent(new Event('load'))\r\n    \t\tfr.dispatchEvent(new Event('loadend'))\r\n    \t})\r\n    }\r\n\r\n    FileReader.EMPTY = 0\r\n    FileReader.LOADING = 1\r\n    FileReader.DONE = 2\r\n    FileReader.prototype.error = null\r\n    FileReader.prototype.onabort = null\r\n    FileReader.prototype.onerror = null\r\n    FileReader.prototype.onload = null\r\n    FileReader.prototype.onloadend = null\r\n    FileReader.prototype.onloadstart = null\r\n    FileReader.prototype.onprogress = null\r\n\r\n    FileReader.prototype.readAsDataURL = function (blob) {\r\n    \t_read(this, blob, 'readAsDataURL')\r\n    \tthis.result = 'data:' + blob.type + ';base64,' + array2base64(blob._buffer)\r\n    }\r\n\r\n    FileReader.prototype.readAsText = function (blob) {\r\n    \t_read(this, blob, 'readAsText')\r\n    \tthis.result = textDecode(blob._buffer)\r\n    }\r\n\r\n    FileReader.prototype.readAsArrayBuffer = function (blob) {\r\n      _read(this, blob, 'readAsText')\r\n       // return ArrayBuffer when possible\r\n      this.result = (blob._buffer.buffer || blob._buffer).slice()\r\n    }\r\n\r\n    FileReader.prototype.abort = function () {}\r\n\r\n    /********************************************************/\r\n    /*                         URL                          */\r\n    /********************************************************/\r\n    URL.createObjectURL = function (blob) {\r\n      return blob instanceof Blob\r\n        ? 'data:' + blob.type + ';base64,' + array2base64(blob._buffer)\r\n        : createObjectURL.call(URL, blob)\r\n    }\r\n\r\n    URL.revokeObjectURL = function (url) {\r\n      revokeObjectURL && revokeObjectURL.call(URL, url)\r\n    }\r\n\r\n    /********************************************************/\r\n    /*                         XHR                          */\r\n    /********************************************************/\r\n    var _send = global.XMLHttpRequest && global.XMLHttpRequest.prototype.send\r\n    if (_send) {\r\n      XMLHttpRequest.prototype.send = function (data) {\r\n        if (data instanceof Blob) {\r\n          this.setRequestHeader('Content-Type', data.type)\r\n          _send.call(this, textDecode(data._buffer))\r\n        } else {\r\n          _send.call(this, data)\r\n        }\r\n      }\r\n    }\r\n\r\n    global.FileReader = FileReader\r\n    global.File = File\r\n    global.Blob = Blob\r\n  }\r\n\r\n  function fixFileAndXHR () {\r\n    var isIE = !!global.ActiveXObject || (\r\n      '-ms-scroll-limit' in document.documentElement.style &&\r\n      '-ms-ime-align' in document.documentElement.style\r\n    )\r\n\r\n    // Monkey patched\r\n    // IE don't set Content-Type header on XHR whose body is a typed Blob\r\n    // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/6047383\r\n    var _send = global.XMLHttpRequest && global.XMLHttpRequest.prototype.send\r\n    if (isIE && _send) {\r\n      XMLHttpRequest.prototype.send = function (data) {\r\n        if (data instanceof Blob) {\r\n          this.setRequestHeader('Content-Type', data.type)\r\n          _send.call(this, data)\r\n        } else {\r\n          _send.call(this, data)\r\n        }\r\n      }\r\n    }\r\n\r\n    try {\r\n      new File([], '')\r\n    } catch (e) {\r\n      try {\r\n        var klass = new Function('class File extends Blob {' +\r\n          'constructor(chunks, name, opts) {' +\r\n            'opts = opts || {};' +\r\n            'super(chunks, opts || {});' +\r\n            'this.name = name.replace(/\\//g, \":\");' +\r\n            'this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date();' +\r\n            'this.lastModified = +this.lastModifiedDate;' +\r\n          '}};' +\r\n          'return new File([], \"\"), File'\r\n        )()\r\n        global.File = klass\r\n      } catch (e) {\r\n        var klass = function (b, d, c) {\r\n          var blob = new Blob(b, c)\r\n          var t = c && void 0 !== c.lastModified ? new Date(c.lastModified) : new Date()\r\n\r\n          blob.name = d.replace(/\\//g, ':')\r\n          blob.lastModifiedDate = t\r\n          blob.lastModified = +t\r\n          blob.toString = function () {\r\n            return '[object File]'\r\n          }\r\n\r\n          if (strTag) {\r\n            blob[strTag] = 'File'\r\n          }\r\n\r\n          return blob\r\n        }\r\n        global.File = klass\r\n      }\r\n    }\r\n  }\r\n\r\n  if (blobSupported) {\r\n    fixFileAndXHR()\r\n    global.Blob = blobSupportsArrayBufferView ? global.Blob : BlobConstructor\r\n  } else if (blobBuilderSupported) {\r\n    fixFileAndXHR()\r\n    global.Blob = BlobBuilderConstructor\r\n  } else {\r\n    FakeBlobBuilder()\r\n  }\r\n\r\n  if (strTag) {\r\n    File.prototype[strTag] = 'File'\r\n    Blob.prototype[strTag] = 'Blob'\r\n    FileReader.prototype[strTag] = 'FileReader'\r\n  }\r\n\r\n  var blob = global.Blob.prototype\r\n  var stream\r\n\r\n  function promisify(obj) {\r\n    return new Promise(function(resolve, reject) {\r\n      obj.onload =\r\n      obj.onerror = function(evt) {\r\n        obj.onload =\r\n        obj.onerror = null\r\n\r\n        evt.type === 'load'\r\n          ? resolve(obj.result || obj)\r\n          : reject(new Error('Failed to read the blob/file'))\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  try {\r\n    new ReadableStream({ type: 'bytes' })\r\n    stream = function stream() {\r\n      var position = 0\r\n      var blob = this\r\n\r\n      return new ReadableStream({\r\n        type: 'bytes',\r\n        autoAllocateChunkSize: 524288,\r\n\r\n        pull: function (controller) {\r\n          var v = controller.byobRequest.view\r\n          var chunk = blob.slice(position, position + v.byteLength)\r\n          return chunk.arrayBuffer()\r\n          .then(function (buffer) {\r\n            var uint8array = new Uint8Array(buffer)\r\n            var bytesRead = uint8array.byteLength\r\n\r\n            position += bytesRead\r\n            v.set(uint8array)\r\n              controller.byobRequest.respond(bytesRead)\r\n\r\n            if(position >= blob.size)\r\n              controller.close()\r\n          })\r\n        }\r\n      })\r\n    }\r\n  } catch (e) {\r\n    try {\r\n      new ReadableStream({})\r\n      stream = function stream(blob){\r\n        var position = 0\r\n        var blob = this\r\n\r\n        return new ReadableStream({\r\n          pull: function (controller) {\r\n            var chunk = blob.slice(position, position + 524288)\r\n\r\n            return chunk.arrayBuffer().then(function (buffer) {\r\n              position += buffer.byteLength\r\n              var uint8array = new Uint8Array(buffer)\r\n              controller.enqueue(uint8array)\r\n\r\n              if (position == blob.size)\r\n                controller.close()\r\n            })\r\n          }\r\n        })\r\n      }\r\n    } catch (e) {\r\n      try {\r\n        new Response('').body.getReader().read()\r\n        stream = function stream() {\r\n          return (new Response(this)).body\r\n        }\r\n      } catch (e) {\r\n        stream = function stream() {\r\n          throw new Error('Include https://github.com/MattiasBuelens/web-streams-polyfill')\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  if (!blob.arrayBuffer) {\r\n    blob.arrayBuffer = function arrayBuffer() {\r\n      var fr = new FileReader()\r\n      fr.readAsArrayBuffer(this)\r\n      return promisify(fr)\r\n    }\r\n  }\r\n\r\n  if (!blob.text) {\r\n    blob.text = function text() {\r\n      var fr = new FileReader()\r\n      fr.readAsText(this)\r\n      return promisify(fr)\r\n    }\r\n  }\r\n\r\n  if (!blob.stream) {\r\n    blob.stream = stream\r\n  }\r\n})()\r\n","/* eslint-disable */\r\n/* canvas-toBlob.js\r\n * A canvas.toBlob() implementation.\r\n * 2016-05-26\r\n *\r\n * By Eli Grey, http://eligrey.com and Devin Samarin, https://github.com/eboyjr\r\n * License: MIT\r\n *   See https://github.com/eligrey/canvas-toBlob.js/blob/master/LICENSE.md\r\n */\r\n\r\n/*global self */\r\n/*jslint bitwise: true, regexp: true, confusion: true, es5: true, vars: true, white: true,\r\n  plusplus: true */\r\n\r\n/*! @source http://purl.eligrey.com/github/canvas-toBlob.js/blob/master/canvas-toBlob.js */\r\n\r\n(function(view) {\r\n\"use strict\";\r\nvar\r\n\t  Uint8Array = view.Uint8Array\r\n\t, HTMLCanvasElement = view.HTMLCanvasElement\r\n\t, canvas_proto = HTMLCanvasElement && HTMLCanvasElement.prototype\r\n\t, is_base64_regex = /\\s*;\\s*base64\\s*(?:;|$)/i\r\n\t, to_data_url = \"toDataURL\"\r\n\t, base64_ranks\r\n\t, decode_base64 = function(base64) {\r\n\t\tvar\r\n\t\t\t  len = base64.length\r\n\t\t\t, buffer = new Uint8Array(len / 4 * 3 | 0)\r\n\t\t\t, i = 0\r\n\t\t\t, outptr = 0\r\n\t\t\t, last = [0, 0]\r\n\t\t\t, state = 0\r\n\t\t\t, save = 0\r\n\t\t\t, rank\r\n\t\t\t, code\r\n\t\t\t, undef\r\n\t\t;\r\n\t\twhile (len--) {\r\n\t\t\tcode = base64.charCodeAt(i++);\r\n\t\t\trank = base64_ranks[code-43];\r\n\t\t\tif (rank !== 255 && rank !== undef) {\r\n\t\t\t\tlast[1] = last[0];\r\n\t\t\t\tlast[0] = code;\r\n\t\t\t\tsave = (save << 6) | rank;\r\n\t\t\t\tstate++;\r\n\t\t\t\tif (state === 4) {\r\n\t\t\t\t\tbuffer[outptr++] = save >>> 16;\r\n\t\t\t\t\tif (last[1] !== 61 /* padding character */) {\r\n\t\t\t\t\t\tbuffer[outptr++] = save >>> 8;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (last[0] !== 61 /* padding character */) {\r\n\t\t\t\t\t\tbuffer[outptr++] = save;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstate = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// 2/3 chance there's going to be some null bytes at the end, but that\r\n\t\t// doesn't really matter with most image formats.\r\n\t\t// If it somehow matters for you, truncate the buffer up outptr.\r\n\t\treturn buffer;\r\n\t}\r\n;\r\nif (Uint8Array) {\r\n\tbase64_ranks = new Uint8Array([\r\n\t\t  62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1\r\n\t\t, -1, -1,  0, -1, -1, -1,  0,  1,  2,  3,  4,  5,  6,  7,  8,  9\r\n\t\t, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25\r\n\t\t, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35\r\n\t\t, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51\r\n\t]);\r\n}\r\nif (HTMLCanvasElement && (!canvas_proto.toBlob || !canvas_proto.toBlobHD)) {\r\n\tif (!canvas_proto.toBlob)\r\n\tcanvas_proto.toBlob = function(callback, type /*, ...args*/) {\r\n\t\t  if (!type) {\r\n\t\t\ttype = \"image/png\";\r\n\t\t} if (this.mozGetAsFile) {\r\n\t\t\tcallback(this.mozGetAsFile(\"canvas\", type));\r\n\t\t\treturn;\r\n\t\t} if (this.msToBlob && /^\\s*image\\/png\\s*(?:$|;)/i.test(type)) {\r\n\t\t\tcallback(this.msToBlob());\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar\r\n\t\t\t  args = Array.prototype.slice.call(arguments, 1)\r\n\t\t\t, dataURI = this[to_data_url].apply(this, args)\r\n\t\t\t, header_end = dataURI.indexOf(\",\")\r\n\t\t\t, data = dataURI.substring(header_end + 1)\r\n\t\t\t, is_base64 = is_base64_regex.test(dataURI.substring(0, header_end))\r\n\t\t\t, blob\r\n\t\t;\r\n\t\tif (Blob.fake) {\r\n\t\t\t// no reason to decode a data: URI that's just going to become a data URI again\r\n\t\t\tblob = new Blob\r\n\t\t\tif (is_base64) {\r\n\t\t\t\tblob.encoding = \"base64\";\r\n\t\t\t} else {\r\n\t\t\t\tblob.encoding = \"URI\";\r\n\t\t\t}\r\n\t\t\tblob.data = data;\r\n\t\t\tblob.size = data.length;\r\n\t\t} else if (Uint8Array) {\r\n\t\t\tif (is_base64) {\r\n\t\t\t\tblob = new Blob([decode_base64(data)], {type: type});\r\n\t\t\t} else {\r\n\t\t\t\tblob = new Blob([decodeURIComponent(data)], {type: type});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcallback(blob);\r\n\t};\r\n\r\n\tif (!canvas_proto.toBlobHD && canvas_proto.toDataURLHD) {\r\n\t\tcanvas_proto.toBlobHD = function() {\r\n\t\t\tto_data_url = \"toDataURLHD\";\r\n\t\t\tvar blob = this.toBlob();\r\n\t\t\tto_data_url = \"toDataURL\";\r\n\t\t\treturn blob;\r\n\t\t}\r\n\t} else {\r\n\t\tcanvas_proto.toBlobHD = canvas_proto.toBlob;\r\n\t}\r\n}\r\n}(typeof self !== \"undefined\" && self || typeof window !== \"undefined\" && window || this.content || this));\r\n","import { css } from '@emotion/react'\n\nexport default css`\n  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');\n\n  body {\n    min-width: 100%;\n    min-height: 100%;\n  }\n\n  img {\n    width: 100%;\n  }\n`;\n","import { theme, extendTheme } from \"@chakra-ui/react\";\nimport memoizeOne from 'memoize-one';\nimport get from 'lodash/get';\n\nexport const breakpoints = [30, 48, 62, 80].map(em => em * 16);\n\nexport const responsiveIndex = [\n  [1, 'mobile'],\n  [2, 'tablet'],\n  [3, 'laptop'],\n  [4, 'desktop'],\n]\n\nconst responsiveMap = breakpoints.map((_, i) => {\n  const id = responsiveIndex.findIndex(([ri]) => ri + 1 > i)\n  return id >= 0 ? id : responsiveIndex.length\n})\n\nexport const responsive = memoizeOne((...args) => {\n  const argsLen = args.length\n  if (argsLen <= 1) return args[0]\n  return breakpoints.map((_, i) => get(args, [responsiveMap[i]], null))\n});\n\nexport const mobileOrDesktop = responsive\n\nexport const containerWidth = [\"26em\", \"44em\", \"58em\", \"76em\"];\nexport const containerPadding = responsive('1em', '2em')\n\nconst font = '\"Noto Sans TC\", \"PingFang TC\", \"HeiTi TC\", \"Microsoft JhengHei\", sans-serif';\nconst fonts = {\n  heading: font,\n  body: font,\n  mono: \"Menlo, monospace\",\n}\n\nconst primary = 'orange'\nconst secondary = 'green'\nconst danger = 'red'\n\nconst overrides = {\n  fonts,\n  colors: {\n    ...theme.colors,\n    primary: get(theme.colors, `${primary}.500`),\n    secondary: get(theme.colors, `${secondary}.500`),\n    danger: get(theme.colors, `${danger}.500`),\n    text: get(theme.colors, 'black'),\n    chart: {\n      red: '#EB6061',\n      green: '#19B9BF',\n      blue: '#23D1E7',\n      yellow: '#FFE349',\n      orange: '#F4AF32',\n    }\n  },\n  breakpoints,\n  containerWidth,\n  headerHeight: '4em',\n}\n\nconst customTheme = extendTheme(overrides)\n\nexport default customTheme\n","import React from 'react';\r\nimport { Global } from '@emotion/react'\r\nimport { ChakraProvider } from \"@chakra-ui/react\"\r\n\r\nimport globalStyles from './global-styles';\r\n\r\nimport theme from './theme';\r\n\r\nconst ReThemeProvider = ({ children }) => (\r\n  <ChakraProvider theme={theme} resetCSS>\r\n    <>\r\n      <Global styles={globalStyles} />\r\n      {children}\r\n    </>\r\n  </ChakraProvider>\r\n);\r\n\r\nexport default ReThemeProvider\r\n","import { createContext } from 'react';\r\n\r\nexport default createContext({})\r\n","import { useMediaQuery } from 'react-responsive'\r\n\r\nconst useMq = bp => useMediaQuery({ query: `(min-width: ${bp}px)` })\r\n\r\nexport default useMq\r\n","import React from 'react';\r\n\r\nimport { breakpoints } from '../../components/ThemeProvider/theme';\r\nimport MediaContext from './mediaContext'\r\nimport mqHook from './mqHook'\r\n\r\nconst MediaQuery = ({ children }) => {\r\n  const q = breakpoints.map(mqHook)\r\n  return (\r\n    <MediaContext.Provider value={q}>\r\n      {children}\r\n    </MediaContext.Provider>\r\n  )\r\n}\r\n\r\nexport default MediaQuery;\r\n","import { createContext } from 'react';\r\n\r\nexport default createContext({\r\n  hideHeader: false,\r\n  setHideHeader: () => {},\r\n})\r\n","import React, { useState } from 'react';\r\n\r\nimport Context from './context'\r\n\r\nconst Provider = ({ children }) => {\r\n  const [hideHeader, setHideHeader] = useState()\r\n  return (\r\n    <Context.Provider value={{ hideHeader, setHideHeader }}>\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport default Provider;\r\n","import { IconButton } from '@chakra-ui/button';\nimport { Box, HStack } from '@chakra-ui/layout';\nimport { Textarea } from '@chakra-ui/textarea';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { MdClose, MdEdit, MdRefresh } from 'react-icons/md'\nimport { Button } from '@chakra-ui/button';\nimport Table from 'rc-table';\nimport styled from '@emotion/styled';\nimport { FormControl, FormLabel } from '@chakra-ui/form-control';\nimport { Select } from '@chakra-ui/select';\nimport { useFormik } from 'formik';\nimport { differenceBy } from 'lodash';\n\nconst StyledTable = styled(Table)`\ntable {\n  width: 100%;\n}\ntd {\n  padding: 0.25em;\n  border: 1px solid lightGray;\n}\n.rc-table-body {\n  overflow-x: hidden;\n}\n`\n\nconst swapObj = obj => {\n  const values = Object.entries(obj).filter(v => v[1]).map(v => [v[1], v[0]])\n  return Object.fromEntries(values)\n}\n\nconst DataManager = ({ onValueChange, onConfigChange, config, value, data, fields }) => {\n  const ref = useRef()\n  const formik = useFormik({ initialValues: swapObj(config) })\n  const [isEditing, setIsEditing] = useState(!value)\n  const handleClick = useCallback(() => {\n    onValueChange(ref.current.value)\n    setIsEditing(false)\n  }, [onValueChange])\n  useEffect(() => {\n    onConfigChange(swapObj(formik.values))\n  }, [formik.values, onConfigChange])\n  const availFields = useMemo(() => differenceBy(Object.entries(fields), Object.values(formik.values).map(v => [v]), 0), [formik.values, fields])\n  const columns = useMemo(() => data[0] ? Object.keys(data[0]).filter(key => key !== 'id').map(key => ({\n    key,\n    title: (\n      <HStack alignItems=\"flex-end\" p=\"0.25em\">\n        <FormControl id={key}>\n          <FormLabel>{key}</FormLabel>\n          {formik.values[key] ? fields[formik.values[key]] : (\n            <Select\n              placeholder=\"選擇欄位類型\"\n              onChange={formik.handleChange}\n              value={formik.values[key]}\n            >\n              {availFields.map(([val, label], i) => <option key={i} value={val}>{label}</option>)}\n            </Select>\n          )}\n\n        </FormControl>\n        {formik.values[key] && <IconButton icon={<MdClose />} onClick={() => formik.setFieldValue(key, '')} />}\n      </HStack>\n    ),\n    dataIndex: key,\n  })) : [], [data, availFields, fields, formik])\n  return (\n    <Box>\n      {isEditing ? (\n        <>\n          <Textarea placeholder=\"直接貼上excel資料(含表頭)\" defaultValue={value} ref={ref} />\n          <Button onClick={handleClick} mt=\"1em\">儲存</Button>\n        </>\n      ) : (\n        <Box>\n          <HStack justifyContent=\"flex-end\" spacing=\"1em\" mb=\"0.5em\">\n            <Button variant=\"outline\" onClick={() => formik.setValues({})} leftIcon={<MdRefresh />}>重設欄位</Button>\n            <Button variant=\"outline\" onClick={() => setIsEditing(true)} leftIcon={<MdEdit />}>編輯資料</Button>\n          </HStack>\n          <StyledTable\n            columns={columns}\n            data={data}\n            scroll={{ y: 300 }}\n            rowKey=\"id\"\n            useFixedHeader\n          />\n        </Box>\n      )}\n    </Box>\n  )\n}\n\nexport default DataManager\n","import { Heading, Stack } from '@chakra-ui/layout'\nimport React, { createElement, useMemo } from 'react'\nimport { useLocalStorage } from 'react-use'\nimport { tsvParse } from 'd3-dsv'\n\nimport DataManager from './DataManager'\nimport { PureComponent } from 'react'\nimport { Text } from '@chakra-ui/layout'\n\nconst requiredFields = {\n  map: {\n    name: '國家名',\n    value: '數值',\n  },\n  scatter: {\n    x1: '前期出口額',\n    x2: '當期出口額',\n    y1: '前期年增率',\n    y2: '當期年增率',\n    group: '產業分類',\n    name: '產業細項',\n  },\n}\n\nclass ChartRenderer extends PureComponent {\n  state = { hasError: false }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: error };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    console.error(errorInfo)\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <Stack my=\"2em\">\n          <Text fontSize=\"lg\">設定有誤</Text>\n          <Text color=\"red.500\">{this.state.hasError}</Text>\n        </Stack>\n      )\n    }\n\n    const { chart, data, config } = this.props\n    return createElement(chart, { data, config })\n  }\n}\n\nconst ChartEditor = ({ type, chart, title }) => {\n  const [config, setConfig] = useLocalStorage(`re-trading-config:${type}`, {})\n  const [pastedData, setPastedData] = useLocalStorage(`re-trading-data:${type}`, '')\n  const data = useMemo(() => tsvParse(pastedData).map((d, i) => ({ ...d, id: i + 1 })), [pastedData])\n  // console.log(data)\n  // console.log(config)\n  return (\n    <Stack p=\"1em\" spacing=\"1.5em\">\n      <Heading fontSize=\"lg\">製作{title}</Heading>\n      <DataManager\n        value={pastedData}\n        config={config}\n        data={data}\n        fields={requiredFields[type]}\n        onConfigChange={setConfig}\n        onValueChange={setPastedData}\n      />\n      {data && data.length && <ChartRenderer chart={chart} data={data} config={config} setConfig={setConfig} />}\n    </Stack>\n  )\n}\n\nexport default ChartEditor\n","import React, { forwardRef } from 'react';\r\nimport { Text } from \"@chakra-ui/react\";\r\nimport range from 'lodash/range';\r\nimport styled from '@emotion/styled'\r\n\r\nconst ReText = styled(Text)``\r\n\r\nReText.Inline = forwardRef((props, ref) => <ReText as=\"span\" {...props} ref={ref} />);\r\nReText.Bold = forwardRef((props, ref) => <ReText fontWeight=\"700\" {...props} ref={ref} />);\r\nReText.Thin = forwardRef((props, ref) => <ReText fontWeight=\"200\" {...props} ref={ref} />);\r\n\r\nrange(1, 7).forEach((key) => {\r\n  ReText[`H${key}`] = forwardRef((props, ref) => (\r\n    <ReText\r\n      as={`h${key}`}\r\n      fontSize={`${5 - key}xl`}\r\n      {...props}\r\n      ref={ref}\r\n    />\r\n  ));\r\n});\r\n\r\nexport default ReText\r\n","import { AxisLeft, AxisBottom } from '@visx/axis';\nimport { GridColumns, GridRows } from '@visx/grid';\nimport { Group } from '@visx/group'\nimport { BarRounded, Circle, Line } from '@visx/shape'\nimport { isObject, range } from 'lodash';\nimport React, { forwardRef, useMemo } from 'react'\nimport { format } from 'd3-format'\nimport { useTooltip, useTooltipInPortal, defaultStyles } from '@visx/tooltip';\nimport { localPoint } from '@visx/event';\nimport { HStack, Stack } from '@chakra-ui/layout';\nimport composeRefs from '@seznam/compose-react-refs'\nimport { useToken } from '@chakra-ui/system';\nimport { useMeasure } from 'react-use';\n\nimport theme from '../ThemeProvider/theme'\n\nimport Text from '../Text'\nimport getExtent from './getExtent';\n\nconst defaultMargin = {\n  top: 36,\n  right: 52,\n  bottom: 45,\n  left: 60,\n};\n\nconst tooltipStyles = {\n  ...defaultStyles,\n  padding: 12,\n  minWidth: 60,\n  backgroundColor: 'rgba(0,0,0,0.9)',\n  color: 'white',\n};\n\nconst perFormat = format('.2r')\nconst commaFormat = format(',')\nconst commaSignedFormat = format('+,')\nlet tooltipTimeout\n\nconst Legend = ({ x, y, fill, children }) => (\n  <Group left={x} top={y}>\n    <rect width={24} height={10} fill={fill} x={-32} y={0} />\n    <text x={0} y={10} fontWeight=\"900\" fontSize=\"13\">{children}</text>\n  </Group>\n)\n\nconst ScatterLink = forwardRef(({\n  width,\n  height,\n  margin = defaultMargin,\n  xScale: xScaleBase,\n  yScale: yScaleBase,\n  data,\n  series,\n  highlight,\n}, ref) => {\n  const {\n    tooltipOpen,\n    tooltipLeft,\n    tooltipTop,\n    tooltipData,\n    hideTooltip,\n    showTooltip,\n  } = useTooltip();\n  const [measureRef, canvasSize] = useMeasure()\n  const [chartRed, chartGreen] = useToken('colors', ['chart.red', 'chart.green'])\n  const { containerRef, TooltipInPortal } = useTooltipInPortal({\n    // TooltipInPortal is rendered in a separate child of <body /> and positioned\n    // with page coordinates which should be updated on scroll. consider using\n    // Tooltip or TooltipWithBounds if you don't need to render inside a Portal\n    scroll: true,\n  });\n\n  const allData = series.reduce((all, { x, y }) => all.concat(data.map(d => ({ x: x(d), y: y(d) }))), [])\n  // console.log(allData)\n  // bounds\n  const xMax = width - margin.left - margin.right;\n  const yMax = height - margin.top - margin.bottom;\n  const xScale = useMemo(() => xScaleBase && xScaleBase({\n    domain: getExtent(allData, 'x').map((d, i) => i ? d * 1.1 : d * 0.9), // x-coordinate data values\n    range: [0, xMax], // svg x-coordinates, svg x-coordinates increase left to right\n  }), [allData, xMax, xScaleBase]);\n  const xTickValues = useMemo(() => {\n    if (!xScale) return []\n    const domain = xScale.domain()\n    const min = Math.log10(domain[0])\n    const max = Math.log10(domain[1])\n    return range(Math.ceil(min), max).map(x => 10 ** x)\n  }, [xScale])\n  const yScale = useMemo(() => yScaleBase && yScaleBase({\n    domain: getExtent(allData, 'y'), // y-coordinate data values\n    range: [yMax, 0], // svg y-coordinates, svg y-coordinates increase left to right\n  }), [allData, yMax, yScaleBase]);\n  if (width < 10 || !data || !xScaleBase || !yScaleBase || !series) return null;\n  return (\n    <div ref={measureRef}>\n      <svg\n        viewBox={`0 0 ${width} ${height}`}\n        ref={composeRefs(ref, containerRef)}\n        style={{ width: '100%', fontFamily: theme.fonts.body }}\n      >\n        <BarRounded height={height} width={width} fill=\"white\" radius={30} x={0} y={0} all />\n        <Group left={margin.left} top={margin.top}>\n          <GridRows\n            scale={yScale}\n            width={xMax}\n            height={yMax}\n            stroke=\"black\"\n            strokeOpacity={0.1}\n            strokeDasharray=\"3 3\"\n          />\n          <GridColumns\n            scale={xScale}\n            width={xMax}\n            height={yMax}\n            stroke=\"black\"\n            strokeOpacity={0.1}\n            tickValues={xTickValues}\n          />\n          <AxisBottom\n            top={yScale(0)}\n            scale={xScale}\n            strokeWidth={2}\n            tickValues={xTickValues}\n            tickFormat={commaFormat}\n            tickLabelProps={() => ({ fontSize: 10, textAnchor: 'middle', fontWeight: 'bold' })}\n          />\n          <AxisLeft\n            scale={yScale}\n            hideAxisLine\n            hideTicks\n          />\n          <Group>\n            {data.map((d, j) => {\n              const x1 = series[0].x(d)\n              const x2 = series[1].x(d)\n              const y1 = series[0].y(d)\n              const y2 = series[1].y(d)\n              const isHighlight = isObject(highlight[d.industry]) ? highlight[d.industry][d.item] : highlight[d.industry]\n              return (\n                <Line\n                  key={`line-${j}`}\n                  className=\"line\"\n                  from={{\n                    x: xScale(x1),\n                    y: yScale(y1),\n                  }}\n                  to={{\n                    x: xScale(x2),\n                    y: yScale(y2),\n                  }}\n                  stroke={x2 < x1 ? chartGreen : chartRed}\n                  strokeWidth={3}\n                  opacity={tooltipOpen && d.id !== tooltipData.id ? (isHighlight ? 0.3 : 0.05) : (isHighlight ? 0.9 : 0.1)}\n                  onMouseLeave={() => {\n                    tooltipTimeout = window.setTimeout(() => {\n                      hideTooltip();\n                    }, 300);\n                  }}\n                  onMouseMove={event => {\n                    if (tooltipTimeout) clearTimeout(tooltipTimeout);\n                    // TooltipInPortal expects coordinates to be relative to containerRef\n                    // localPoint returns coordinates relative to the nearest SVG, which\n                    // is what containerRef is set to in this example.\n                    const eventSvgCoords = localPoint(event);\n                    showTooltip({\n                      tooltipData: { ...d, diff: x2 - x1 },\n                      tooltipTop: eventSvgCoords?.y,\n                      tooltipLeft: eventSvgCoords?.x,\n                    });\n                  }}\n                />\n              )\n            })}\n          </Group>\n          <Group>\n            {data.map((d, j) => {\n              const isHighlight = isObject(highlight[d.industry]) ? highlight[d.industry][d.item] : highlight[d.industry]\n              return (\n                <Circle\n                  key={`point-${j}`}\n                  className=\"dot\"\n                  cx={xScale(series[1].x(d))}\n                  cy={yScale(series[1].y(d))}\n                  fill=\"black\"\n                  opacity={isHighlight ? 1 : (tooltipOpen && d.id !== tooltipData.id ? 0.05 : 0.3)}\n                  r={3}\n                />\n              )\n            })}\n          </Group>\n        </Group>\n        <Group left={margin.left - 8} top={margin.top - 14}>\n          <text\n            fontSize={12}\n            fontWeight=\"700\"\n            textAnchor=\"end\"\n          >年增率</text>\n          <text\n            fontSize={10}\n            x={5}\n            y={14}\n            textAnchor=\"end\"\n          >（％）</text>\n        </Group>\n        <Group left={width - 28} top={yScale(0) + margin.top + 4}>\n          <text\n            fontSize={12}\n            fontWeight=\"700\"\n            textAnchor=\"middle\"\n          >出口額</text>\n          <text\n            y={14}\n            fontSize={10}\n            textAnchor=\"middle\"\n          >(萬美元)</text>\n        </Group>\n        <Group left={width - 28} top={height - 26}>\n          <Legend x={-260} fill={chartRed}>成長</Legend>\n          <Legend x={-180} fill={chartGreen}>衰退</Legend>\n          <Group left={-80}>\n            {series.map((s, i) => <text fontSize={12} fontWeight=\"700\" y={10} key={i} x={-52 + (i * 90)}>{s.label}</text>)}\n            <rect width={30} height={7} fill=\"#DCDCDC\" x={0} y={2} />\n            <circle r={7} fill=\"black\" strokeWidth={2} stroke=\"white\" cx={26} cy={5} />\n          </Group>\n        </Group>\n        {tooltipOpen && tooltipData && (\n          <TooltipInPortal top={tooltipTop * canvasSize.height / height} left={tooltipLeft * canvasSize.width / width} style={tooltipStyles}>\n            <Stack>\n              <Text fontWeight=\"bold\" fontSize=\"0.875em\">\n                {tooltipData.industry}\n              </Text>\n              <Text fontSize=\"1.125em\">\n                {tooltipData.item}\n              </Text>\n              <HStack py=\"0.5em\" spacing=\"1em\">\n                {series.map(({ x, y, label }, i)=> (\n                  <Stack key={i}>\n                    <Text>{label}:</Text>\n                    <Text fontWeight=\"bold\" fontSize=\"1.125em\">{commaFormat(x(tooltipData))}</Text>\n                    <Text>{perFormat(y(tooltipData))}%</Text>\n                  </Stack>\n                ))}\n              </HStack>\n              <Text\n                fontWeight=\"bold\"\n                fontSize=\"1.125em\"\n                color={tooltipData.diff < 0 ? 'chart.green' : 'chart.red'}\n              >\n                {commaSignedFormat(tooltipData.diff)}\n              </Text>\n            </Stack>\n          </TooltipInPortal>\n        )}\n      </svg>\n    </div>\n  )\n})\n\nexport default ScatterLink\n","import { maxBy, minBy } from \"lodash\"\n\nconst getExtent = (data, accessor) => {\n  if (!data.length) return [0, 0]\n  const max = maxBy(data, accessor)\n  const min = minBy(data, accessor)\n  if (typeof accessor === 'string') return [min[accessor], max[accessor]]\n  return [accessor(min), accessor(max)]\n}\n\nexport default getExtent\n","import React, { forwardRef } from 'react';\r\nimport { Box } from \"@chakra-ui/react\";\r\nimport styled from '@emotion/styled'\r\n\r\nconst ReBox = styled(Box)``\r\n\r\nexport default ReBox\r\n\r\nReBox.Inline = forwardRef((props, ref) => <ReBox as=\"span\" display=\"inline-block\" verticalAlign=\"middle\" {...props} ref={ref} />);\r\nReBox.Absolute = forwardRef((props, ref) => <ReBox position=\"absolute\" {...props} ref={ref} />);\r\nReBox.FullAbs = forwardRef((props, ref) => <ReBox.Absolute top=\"0\" left=\"0\" right=\"0\" bottom=\"0\" {...props} ref={ref} />)\r\nReBox.Relative = forwardRef((props, ref) => <ReBox position=\"relative\" {...props} ref={ref} />)\r\nReBox.Fixed = forwardRef((props, ref) => <ReBox position=\"fixed\" {...props} ref={ref} />)\r\nReBox.Invisible = forwardRef((props, ref) => <ReBox.Absolute width=\"0\" height=\"0\" overflow=\"hidden\" opacity=\"0\" {...props} ref={ref} />)\r\n","import { Checkbox, CheckboxGroup } from '@chakra-ui/checkbox'\nimport { Box, Flex, Heading, HStack, Stack, Text } from '@chakra-ui/layout'\nimport { indexOf, map } from 'lodash'\nimport React, { useMemo } from 'react'\n\nconst OptionGroups = ({ name, value = [], onChange, options = [] }) => {\n  const checkedItems = useMemo(() => options.map(v => indexOf(value, v) > -1), [options, value])\n  const allChecked = checkedItems.every(Boolean)\n  const isIndeterminate = checkedItems.some(Boolean) && !allChecked\n  return (\n    <Stack>\n      <HStack>\n        <Heading as=\"h3\" fontSize=\"md\">{name}</Heading>\n        {options.length > 1 && (\n          <Box fontWeight=\"bold\">\n            <Checkbox\n              colorScheme=\"orange\"\n              isChecked={allChecked}\n              isIndeterminate={isIndeterminate}\n              onChange={(e) => onChange(e.target.checked ? options : [])}\n            >\n              全部\n            </Checkbox>\n          </Box>\n        )}\n      </HStack>\n      <CheckboxGroup\n        colorScheme=\"orange\"\n        id={name}\n        onChange={onChange}\n        value={value}\n      >\n        <Flex wrap=\"wrap\">\n          {options.map((n, j) => typeof n === 'string' && (\n            <Box key={n + j} m=\"0.25em\">\n              <Checkbox value={n}>{n}</Checkbox>\n            </Box>\n          ))}\n        </Flex>\n      </CheckboxGroup>\n    </Stack>\n  )\n}\n\nconst HightlightCheckbox = ({ options, formik, nameKey }) => {\n  const groups = useMemo(() => map(options, (children, name) => ({ name, children: map(children, nameKey) })).sort((a, b) => a.children.length - b.children.length), [options, nameKey])\n  if (!nameKey) return null\n  return (\n    <Box>\n      <Text fontSize=\"lg\" fontWeight=\"bold\">強調品項</Text>\n      <Flex flexWrap=\"wrap\" mx=\"-0.5em\">\n        {groups.map((g, i) => (\n          <Box key={g.name + i} p=\"0.5em\" m=\"0.5em\" border=\"1px solid\" borderColor=\"gray.300\">\n            <OptionGroups\n              name={g.name}\n              onChange={checked => formik.setFieldValue(g.name, checked)}\n              value={formik.values[g.name]}\n              options={g.children}\n            />\n          </Box>\n        ))}\n      </Flex>\n      {/* <Tabs colorScheme=\"orange\">\n        <TabList flexWrap=\"wrap\">\n          {groups.map((g, i) => (\n            <Tab key={g.name + i} color={formik.values[g.name]?.length ? 'orange.600' : 'inherit'}>\n              {g.name}\n              <Text ml=\"0.5em\" fontSize=\"xs\">({formik.values[g.name]?.length || 0}/{g.children.length})</Text>\n            </Tab>\n          ))}\n        </TabList>\n        <TabPanels>\n          {groups.map((g, i) => (\n            <TabPanel key={g.name + i}>\n              <OptionGroups\n                name={g.name}\n                onChange={checked => formik.setFieldValue(g.name, checked)}\n                value={formik.values[g.name]}\n                options={g.children}\n              />\n            </TabPanel>\n          ))}\n        </TabPanels>\n      </Tabs> */}\n    </Box>\n  )\n}\n\nexport default HightlightCheckbox\n","import { Link } from \"@chakra-ui/react\";\r\nimport styled from '@emotion/styled'\r\n\r\nexport default styled(Link)``\r\n","import React from 'react';\nimport { Button } from \"@chakra-ui/react\";\n\nimport Link from './Link'\n\nconst ReButton = ({ href, ...props }) => {\n  if (href) return <Button as={p => <Link {...p} href={href} />} {...props} />\n  return <Button {...props} />\n}\n\nReButton.defaultProps = {\n  colorScheme: 'orange',\n}\n\nReButton.Secondary = props => (\n  <ReButton colorScheme=\"green\" {...props} />\n)\n\nReButton.Danger = props => (\n  <ReButton colorScheme=\"red\" {...props} />\n)\n\nexport default ReButton\n","const PIXEL_RATIO = (function () {\n  if (typeof window === 'undefined') return 1\n  const ctx = document.createElement('canvas').getContext('2d'),\n      dpr = window.devicePixelRatio || 1,\n      bsr = ctx.webkitBackingStorePixelRatio ||\n            ctx.mozBackingStorePixelRatio ||\n            ctx.msBackingStorePixelRatio ||\n            ctx.oBackingStorePixelRatio ||\n            ctx.backingStorePixelRatio || 1;\n\n  return dpr / bsr;\n})();\n\nconst setHiDPICanvas = function(canvas, w, h, ratio) {\n  if (!ratio) { ratio = PIXEL_RATIO; }\n  const can = canvas;\n  can.width = w * ratio;\n  can.height = h * ratio;\n  can.style.width = w + 'px';\n  can.style.height = h + 'px';\n  can.getContext('2d').setTransform(ratio, 0, 0, ratio, 0, 0);\n}\n\nconst svgToCanvas = (svgStr, width, height) => {\n  if (!svgStr || !width || !height) return Promise.resolve(null)\n  const canvas = document.createElement('canvas');\n  setHiDPICanvas(canvas, width, height)\n  const ctx = canvas.getContext('2d');\n  const url = 'data:image/svg+xml; charset=utf8, ' + encodeURIComponent(svgStr);\n  const image = new Image();\n\n  return new Promise((res) => {\n    image.onload = () => {\n      ctx.drawImage(image, 0, 0);\n      URL.revokeObjectURL(url);\n      res(canvas)\n    }\n    image.src = url;\n  })\n}\n\nexport default svgToCanvas\n","import React, { useCallback, useState } from 'react'\nimport { saveAs } from 'file-saver'\n\nimport Button from '../components/Button'\n\nimport svgToCanvas from '../utils/svgToCanvas'\nimport '../vendor/Blob'\nimport '../vendor/canvas-toBlob'\n\nconst DownloadChart = ({ chartRef, width, height, name }) => {\n  const [downloading, setDownloading] = useState()\n  const handleDownload = useCallback(async () => {\n    setDownloading(true)\n    const date = new Date().toLocaleDateString()\n    const serializer = new XMLSerializer();\n    let source = serializer.serializeToString(chartRef.current);\n    source = source.replace(/^<svg/, `<svg width=\"${width}\" height=\"${height}\"`);\n    // if (!source.match(/^<svg[^>]+xmlns=\"http:\\/\\/www\\.w3\\.org\\/2000\\/svg\"/)) {\n    //   source = source.replace(/^<svg/, '<svg xmlns=\"http://www.w3.org/2000/svg\"');\n    // }\n    // if (!source.match(/^<svg[^>]+\"http:\\/\\/www\\.w3\\.org\\/1999\\/xlink\"/)) {\n    //   source = source.replace(/^<svg/, '<svg xmlns:xlink=\"http://www.w3.org/1999/xlink\"');\n    // }\n    const canvas = await svgToCanvas(source, width, height)\n    canvas.toBlob((blob) => {\n      saveAs(blob, `${name}-${date}.png`);\n      setDownloading(false)\n    });\n\n    //convert svg source to URI data scheme.\n    // const blob = new Blob([source], { type: 'image/svg+xml' });\n    // saveAs(blob, `${date}.svg`);\n  }, [chartRef, height, width, name])\n  return <Button isLoading={downloading} onClick={handleDownload}>下載PNG</Button>\n}\n\nexport default DownloadChart\n","import React, { useMemo, useRef } from 'react'\nimport { scaleLinear, scaleLog } from '@visx/scale'\nimport { groupBy, mapValues } from 'lodash'\nimport { AspectRatio, Stack } from \"@chakra-ui/react\"\nimport { useFormik } from 'formik'\n\nimport ScatterLink from '../../components/Charts/ScatterLink'\nimport Box from '../../components/Box'\nimport HightlightCheckbox from './HightlightCheckbox'\nimport DownloadChart from '../DownloadChart'\n\nconst w = 814\nconst h = 380\n\nconst GrowthScatter = ({ data, config= {} }) => {\n  const svgRef = useRef()\n  const groups = useMemo(() => groupBy(data, config.group), [data, config.group])\n  const formik = useFormik({ initialValues: {} })\n  const filteredData = useMemo(() => {\n    if (data) {\n      return data && data.filter(d => d[config.x1] > 0 && d[config.x2] > 0)\n    }\n    return data\n  }, [data, config])\n  const highlight = useMemo(() => mapValues(formik.values, v => v && v.reduce((a, k) => {\n    a[k] = true\n    return a\n  }, {})), [formik.values])\n\n  const requiredDone = useMemo(() => ['x1', 'x2', 'y1', 'y2'].every(k => config[k]), [config])\n  return (\n    <Stack spacing=\"1em\" py=\"1em\">\n      <HightlightCheckbox\n        options={groups}\n        formik={formik}\n        nameKey={config.name}\n      />\n      {requiredDone && (\n        <>\n          <Box p=\"2em\" bg=\"gray.100\" rounded=\"2xl\">\n            <AspectRatio ratio={w / h}>\n              <ScatterLink\n                width={w}\n                height={h}\n                data={filteredData}\n                xScale={scaleLog}\n                yScale={scaleLinear}\n                series={[\n                  { x: d => d[config.x1] * 1, y: d => d[config.y1] * 1, label: config.x1 },\n                  { x: d => d[config.x2] * 1, y: d => d[config.y2] * 1, label: config.x2 },\n                ]}\n                highlight={highlight}\n                ref={svgRef}\n              />\n            </AspectRatio>\n          </Box>\n          <Box>\n            <DownloadChart chartRef={svgRef} width={w} height={h} name=\"火柴棒圖\" />\n          </Box>\n        </>\n      )}\n    </Stack>\n  )\n}\n\nexport default GrowthScatter\n","import { useToken } from '@chakra-ui/system'\nimport React, { forwardRef, useCallback, useMemo } from 'react'\nimport { Mercator } from '@visx/geo';\nimport * as topojson from 'topojson-client';\nimport { BarRounded } from '@visx/shape';\nimport { scaleQuantize } from '@visx/scale';\nimport { Group } from '@visx/group';\nimport { range } from 'lodash';\nimport { format } from 'd3-format';\n\nimport topology from './world-topo.json';\n\nimport theme from '../ThemeProvider/theme'\nimport arrToObj from '../../utils/arrToObj'\nimport getExtent from './getExtent';\n\nconst world = topojson.feature(topology, topology.objects.countries)\nconst commaFormat = format(',')\n\nconst Choropleth = forwardRef(({\n  width,\n  height,\n  data,\n}, ref) => {\n  // console.log(data)\n  const colors = useToken('colors', ['chart.blue', 'chart.yellow', 'chart.orange', 'chart.red'])\n  const centerX = width / 2;\n  const centerY = height / 2;\n  const scale = (width / 1100) * 100;\n  const xMax = useMemo(() => {\n    const [, max] = getExtent(data, 'value')\n    return Math.ceil(Math.log10(max))\n  }, [data])\n\n  const colorScale = useCallback((v) => scaleQuantize({\n    domain: [0, xMax],\n    range: colors,\n  })(Math.log10(v)), [xMax, colors]);\n\n  const keyedData = useMemo(() => arrToObj(data, 'id'), [data])\n\n  const legend = useMemo(() => range(0, 9, 2).reduce((all, p, i) => all.concat([\n    i ? <rect key={`bar-${i}`} x={50 * (i - 1)} y={4} width={50} height={4} fill={colorScale(10 ** (p - 2))} /> : null,\n    (<text\n      fontSize={7}\n      fontWeight=\"700\"\n      x={50 * i}\n      textAnchor=\"middle\"\n      key={p}\n    >{p ? commaFormat(10 ** p) : 0}</text>)\n  ]), []), [colorScale])\n\n  const renderMap = mercator => (\n    <g>\n      {mercator.features.map(({ feature, path }, i) => (\n        <path\n          key={`map-feature-${i}`}\n          d={path || ''}\n          fill={colorScale(keyedData[feature.properties.name]?.value || 0)}\n        />\n      ))}\n    </g>\n  )\n\n  return (\n    <svg\n      viewBox={`0 0 ${width} ${height}`}\n      ref={ref}\n      style={{ width: '100%', fontFamily: theme.fonts.body }}\n    >\n      <BarRounded height={height} width={width} fill=\"#D2D2D2\" radius={15} x={0} y={0} all />\n      <BarRounded height={height - 5} width={width} fill=\"white\" radius={15} x={0} y={0} all />\n      <g\n        style={{\n          transformOrigin: `${centerX}px ${centerY}px`,\n          transform: 'scale(1.3, 1)',\n        }}\n      >\n        <Mercator\n          data={world.features}\n          scale={scale}\n          center={[180, 45]}\n          translate={[centerX, centerY]}\n          clipExtent={[[width * 0.191, 0], [width / 2, height]]}\n        >\n          {renderMap}\n        </Mercator>\n        <Mercator\n          data={world.features}\n          scale={scale}\n          center={[-180, 45]}\n          translate={[centerX, centerY]}\n          clipExtent={[[width / 2, 0], [width * 0.761, height]]}\n        >\n          {renderMap}\n        </Mercator>\n      </g>\n      <Group left={16} top={height - 20}>\n        {legend}\n      </Group>\n    </svg>\n  )\n})\n\nexport default Choropleth\n","import { get, isArray } from 'lodash';\n\nexport default function arrToObj(arr, key) {\n  if (!isArray(arr)) return {}\n  return arr.reduce((obj, a, i) => {\n    obj[typeof key === 'undefined' ? i : get(a, key)] = a\n    return obj\n  }, {})\n}\n","import { tsv } from \"d3-fetch\"\nimport { useEffect, useState } from \"react\"\n\nconst useTsv = (path) => {\n  const [loading, setLoading] = useState()\n  const [error, setError] = useState()\n  const [data, setData] = useState()\n  useEffect(() => {\n    setLoading(true)\n    setError(null)\n    tsv(path).then(d => {\n      setLoading(false)\n      setData(d)\n    }).catch(e => {\n      setLoading(false)\n      setError(e)\n    })\n  }, [path])\n  return { data, loading, error }\n}\n\nexport default useTsv\n","export default __webpack_public_path__ + \"static/media/countries.37c9b0c6.tsv\";","import { AspectRatio, Box, Flex, Stack, Text } from '@chakra-ui/layout'\nimport { Tag } from '@chakra-ui/tag'\nimport React, { useMemo, useRef } from 'react'\n\nimport Choropleth from '../../components/Charts/Choropleth'\nimport useTsv from '../../utils/useTsv'\nimport DownloadChart from '../DownloadChart'\n\nimport country from './countries.tsv'\n\nconst w = 576\nconst h = 232\n\nconst CountryChoro = ({ data, config= {} }) => {\n  const svgRef = useRef()\n  const { data: countries, loading } = useTsv(country)\n  const requiredDone = useMemo(() => ['name', 'value'].every(k => config[k]) && !loading, [config, loading])\n  const [namedData, missedData] = useMemo(() => {\n    const defaultValue = [[], []]\n    if (!countries) return defaultValue\n    const countryEn = countries.reduce((en, c) => {\n      en[c.name] = c.eng\n      return en\n    }, {})\n    return data.reduce((all, d) => {\n      const name = d[config.name]\n      const value = d[config.value] * 1\n      const id = countryEn[name]\n      if (id) {\n        all[0].push({ id, name, value })\n      } else {\n        all[1].push({ name, value })\n      }\n      return all\n    }, defaultValue)\n  }, [countries, data, config])\n  return (\n    <Stack>\n      {requiredDone && (\n        <>\n          {missedData.length && (\n            <Box>\n              <Text>對應不到英文的國家：</Text>\n              <Flex flexWrap=\"wrap\">{missedData.map((d, i) => <Tag m=\"0.5em\" key={i}>{d.name} ({d.value})</Tag>)}</Flex>\n            </Box>\n          )}\n          <Box p=\"2em\" bg=\"gray.100\" rounded=\"2xl\">\n            <AspectRatio ratio={w / h}>\n              <Choropleth\n                width={w}\n                height={h}\n                data={namedData}\n                ref={svgRef}\n              />\n            </AspectRatio>\n          </Box>\n          <Box>\n            <DownloadChart chartRef={svgRef} width={w} height={h} name=\"地圖\" />\n          </Box>\n        </>\n      )}\n    </Stack>\n  )\n}\n\nexport default CountryChoro\n","import React, { forwardRef } from 'react'\r\nimport { Flex } from \"@chakra-ui/react\";\r\nimport styled from '@emotion/styled'\r\n\r\nconst ReFlex = styled(Flex)``\r\n\r\nReFlex.Vertical = forwardRef((props, ref) => <Flex direction=\"column\" {...props} ref={ref} />)\r\n\r\nexport default ReFlex\r\n","import React from 'react'\nimport { Box, Heading, HStack } from \"@chakra-ui/react\";\nimport { Link as RouterLink } from 'react-router-dom'\n\nimport Link from '../components/Link';\nimport Flex from '../components/Flex';\n\nconst links = [\n  { label: '地圖', path: '/' },\n  { label: '火柴棒圖', path: '/scatter' },\n]\n\nconst Header = ({ siteTitle, ...props }) => (\n  <Flex\n    as={Flex}\n    position=\"fixed\"\n    bg=\"orange.400\"\n    top={0}\n    left={0}\n    right={0}\n    alignItems=\"center\"\n    zIndex=\"docked\"\n    px=\"1em\"\n    {...props}\n  >\n    <Heading as=\"h1\" color=\"white\">\n      {siteTitle}\n    </Heading>\n    <Box flex=\"1\" />\n    <HStack spacing=\"1em\">\n      {links.map(({ label, path }, i) => <Link key={i} fontSize=\"1.25em\" color=\"white\" to={path} as={RouterLink}>{label}</Link>)}\n    </HStack>\n  </Flex>\n)\n\nexport default Header\n","import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\n\nimport Box from '../components/Box';\nimport theme from '../components/ThemeProvider/theme';\nimport headerContext from '../contexts/header/context'\n\nimport Header from './Header'\n\nconst Layout = ({ children }) => {\n  const { hideHeader } = useContext(headerContext)\n  return (\n    <>\n      {!hideHeader && <Header height={theme.headerHeight} siteTitle=\"Trading Chart Maker\" />}\n      <Box minHeight=\"100vh\" pt={!hideHeader && theme.headerHeight}>\n        {children}\n      </Box>\n    </>\n  )\n}\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom'\nimport ChartEditor from './containers/ChartEditor';\nimport GrowthScatter from './containers/GrowthScatter';\nimport CountryChoro from './containers/CountryChoro';\n\nimport Layout from './containers/Layout';\n\nfunction App() {\n  return (\n    <Layout>\n      <Switch>\n        <Route path=\"/scatter\">\n          <ChartEditor key=\"scatter\" type=\"scatter\" chart={GrowthScatter} title=\"火柴棒圖\" />\n        </Route>\n        <Route path=\"/\">\n          <ChartEditor key=\"map\" type=\"map\" chart={CountryChoro} title=\"地圖\" />\n        </Route>\n      </Switch>\n    </Layout>\n  );\n}\n\nexport default App;\n","import 'react-app-polyfill/ie11'\nimport 'react-app-polyfill/stable'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom'\n\nimport './vendor/Blob'\n\nimport ThemeProvider from './components/ThemeProvider'\nimport MediaProvider from './contexts/mediaQuery/MediaProvider'\nimport HeaderProvider from './contexts/header/Provider'\n\nimport App from './App';\n\nReactDOM.render(\n  <Router>\n    <ThemeProvider>\n      <MediaProvider>\n        <HeaderProvider>\n          <App />\n        </HeaderProvider>\n      </MediaProvider>\n    </ThemeProvider>\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}