(this["webpackJsonpstyled-cra"]=this["webpackJsonpstyled-cra"]||[]).push([[0],{575:function(e,t,c){"use strict";c.r(t);c(298),c(308);var n,r,a,i=c(0),o=c.n(i),j=c(64),b=c.n(j),l=c(54),s=c(617),u=c(46),O=Object(l.b)(n||(n=Object(u.a)(["\n  body {\n    min-width: 100%;\n    min-height: 100%;\n    overflow-y: scroll;\n  }\n\n  img {\n    width: 100%;\n  }\n"]))),d=c(5),f=c(7),h=c(149),x=c(592),m=c(280),p=c(95),g=c.n(p),v=[30,48,62,80].map((function(e){return 16*e})),y=[[1,"mobile"],[2,"tablet"],[3,"laptop"],[4,"desktop"]],w=v.map((function(e,t){var c=y.findIndex((function(e){return Object(f.a)(e,1)[0]+1>t}));return c>=0?c:y.length})),k=Object(m.a)((function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];var n=t.length;return n<=1?t[0]:v.map((function(e,c){return g()(t,[w[c]],null)}))})),S=["26em","44em","58em","76em"],R=k("1em","2em"),T='Arial, "PingFang TC", "HeiTi TC", "Microsoft JhengHei", sans-serif',H={fonts:{heading:T,body:T,mono:"Menlo, monospace"},colors:Object(d.a)(Object(d.a)({},h.theme.colors),{},{primary:g()(h.theme.colors,"".concat("blue",".500")),secondary:g()(h.theme.colors,"".concat("green",".500")),danger:g()(h.theme.colors,"".concat("red",".500")),text:g()(h.theme.colors,"black")}),breakpoints:v,containerWidth:S,headerHeight:"5em"},C=Object(x.a)(H),W=c(4),z=function(e){var t=e.children;return Object(W.jsx)(s.a,{theme:C,resetCSS:!0,children:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(l.a,{styles:O}),t]})})},I=Object(i.createContext)({}),P=c(282),Q=function(e){return Object(P.useMediaQuery)({query:"(min-width: ".concat(e,"px)")})},A=function(e){var t=e.children,c=v.map(Q);return Object(W.jsx)(I.Provider,{value:c,children:t})},M=Object(i.createContext)({hideHeader:!1,setHideHeader:function(){}}),_=function(e){var t=e.children,c=Object(i.useState)(),n=Object(f.a)(c,2),r=n[0],a=n[1];return Object(W.jsx)(M.Provider,{value:{hideHeader:r,setHideHeader:a},children:t})},B=c(47),F=c(593),N=Object(B.a)(F.a)(r||(r=Object(u.a)([""]))),D=N;N.Inline=Object(i.forwardRef)((function(e,t){return Object(W.jsx)(N,Object(d.a)(Object(d.a)({as:"span",display:"inline-block",verticalAlign:"middle"},e),{},{ref:t}))})),N.Absolute=Object(i.forwardRef)((function(e,t){return Object(W.jsx)(N,Object(d.a)(Object(d.a)({position:"absolute"},e),{},{ref:t}))})),N.FullAbs=Object(i.forwardRef)((function(e,t){return Object(W.jsx)(N.Absolute,Object(d.a)(Object(d.a)({top:"0",left:"0",right:"0",bottom:"0"},e),{},{ref:t}))})),N.Relative=Object(i.forwardRef)((function(e,t){return Object(W.jsx)(N,Object(d.a)(Object(d.a)({position:"relative"},e),{},{ref:t}))})),N.Fixed=Object(i.forwardRef)((function(e,t){return Object(W.jsx)(N,Object(d.a)(Object(d.a)({position:"fixed"},e),{},{ref:t}))})),N.Invisible=Object(i.forwardRef)((function(e,t){return Object(W.jsx)(N.Absolute,Object(d.a)(Object(d.a)({width:"0",height:"0",overflow:"hidden",opacity:"0"},e),{},{ref:t}))}));var E=Object(B.a)(D)(a||(a=Object(u.a)([""])));E.defaultProps={mx:"auto",px:R,maxWidth:S},E.displayName="Container";var J,L=c(594),V=Object(B.a)(L.a)(J||(J=Object(u.a)([""])));V.Vertical=Object(i.forwardRef)((function(e,t){return Object(W.jsx)(L.a,Object(d.a)(Object(d.a)({direction:"column"},e),{},{ref:t}))}));var $,q=V,G=c(595),K=c(283),U=c.n(K),X=Object(B.a)(G.a)($||($=Object(u.a)([""])));X.Inline=Object(i.forwardRef)((function(e,t){return Object(W.jsx)(X,Object(d.a)(Object(d.a)({as:"span"},e),{},{ref:t}))})),X.Bold=Object(i.forwardRef)((function(e,t){return Object(W.jsx)(X,Object(d.a)(Object(d.a)({fontWeight:"700"},e),{},{ref:t}))})),X.Thin=Object(i.forwardRef)((function(e,t){return Object(W.jsx)(X,Object(d.a)(Object(d.a)({fontWeight:"200"},e),{},{ref:t}))})),U()(1,7).forEach((function(e){X["H".concat(e)]=Object(i.forwardRef)((function(t,c){return Object(W.jsx)(X,Object(d.a)(Object(d.a)({as:"h".concat(e),fontSize:"".concat(5-e,"xl")},t),{},{ref:c}))}))}));var Y=X,Z=c(42),ee=c(43),te=c(596),ce=function(e){var t=Object(ee.get)(window,"Modernizr.webp");return Object(i.useMemo)((function(){return Object(ee.isArray)(e)?t?e[0]:e[1]:null}),[t,e])},ne=function(e){var t=e.src,c=e.children,n=Object(Z.a)(e,["src","children"]),r=ce(t);return Object(W.jsx)(D,Object(d.a)(Object(d.a)({backgroundImage:"url(".concat(Object(ee.isArray)(t)?r:t,")")},n),{},{children:c&&Object(W.jsx)(D.FullAbs,{children:c})}))};ne.defaultProps={backgroundSize:"cover",backgroundPosition:"50% 50%",backgroundRepet:"no-repeat"};var re=Object(i.forwardRef)((function(e,t){var c=e.src,n=e.children,r=e.backgroundSize,a=e.backgroundPosition,i=Object(Z.a)(e,["src","children","backgroundSize","backgroundPosition"]);return Object(W.jsx)(te.a,Object(d.a)(Object(d.a)({},i),{},{ref:t,children:Object(W.jsx)(ne,{src:c,backgroundSize:r,backgroundPosition:a,children:n})}))}));re.displayName="BackgroundImage";var ae,ie=c(618),oe=c(597),je=Object(B.a)(oe.a)(ae||(ae=Object(u.a)([""]))),be=function(e){var t=e.href,c=Object(Z.a)(e,["href"]);return t?Object(W.jsx)(ie.a,Object(d.a)({as:function(e){return Object(W.jsx)(je,Object(d.a)(Object(d.a)({},e),{},{href:t}))}},c)):Object(W.jsx)(ie.a,Object(d.a)({},c))};be.defaultProps={colorScheme:"blue"},be.Secondary=function(e){return Object(W.jsx)(be,Object(d.a)({colorScheme:"green"},e))},be.Danger=function(e){return Object(W.jsx)(be,Object(d.a)({colorScheme:"red"},e))};var le,se=c(113),ue=c.n(se),Oe=c(284),de=c.n(Oe),fe=function(e){return y.reduce((function(t,c){var n=Object(f.a)(c,2),r=n[0],a=n[1];return t[de()("is-".concat(a))]=!e[r],t}),{})},he=function(){var e=Object(i.useContext)(I);return Object(d.a)(Object(d.a)({},fe(e)),{},{responsive:k,getCurrentValue:Object(i.useCallback)((function(t){if(!ue()(t))return t;var c=e.findIndex((function(e){return!e}))-1;for(-2===c&&(c=t.length-1);!t[c]&&c>=0;)c-=1;return t[c]}),[e])})},xe=c(599),me=function(e){var t=e.siteTitle,c=Object(Z.a)(e,["siteTitle"]);return Object(W.jsx)(q,Object(d.a)(Object(d.a)({position:"fixed",bg:"primary",top:0,left:0,right:0,alignItems:"center",zIndex:"docked"},c),{},{children:Object(W.jsx)(D,{px:"1em",flex:1,children:Object(W.jsx)(xe.a,{as:"h1",color:"white",children:t})})}))},pe=function(e){var t=e.children,c=Object(i.useContext)(M).hideHeader;return Object(W.jsxs)(W.Fragment,{children:[!c&&Object(W.jsx)(me,{height:C.headerHeight,siteTitle:"Trading Dashboard"}),Object(W.jsx)(D,{minHeight:"100vh",pt:!c&&C.headerHeight,children:t})]})},ge=c(615),ve=c(619),ye=c(613),we=c(288),ke=c(611),Se=c.p+"static/media/data.ca059f3c.csv",Re=c(605),Te=c(607),He=c(620),Ce=c(601),We=c(606),ze=c(608),Ie=c(612),Pe=c(120),Qe=c(600),Ae=c(614),Me=c(616),_e=c(623),Be={top:40,right:10,bottom:30,left:40},Fe=Object(d.a)(Object(d.a)({},Pe.b),{},{padding:12,minWidth:60,backgroundColor:"rgba(0,0,0,0.9)",color:"white"}),Ne=function(e,t){var c=Object(ee.maxBy)(e,t),n=Object(ee.minBy)(e,t);return"string"===typeof t?[n[t],c[t]]:[t(n),t(c)]},De=Object(Ie.a)(","),Ee=Object(Ie.a)("+,"),Je=function(e){var t=e.width,c=e.height,n=e.margin,r=void 0===n?Be:n,a=e.xScale,i=e.yScale,o=e.data,j=e.series,b=Object(Z.a)(e,["width","height","margin","xScale","yScale","data","series"]),l=Object(Qe.a)(),s=l.tooltipOpen,u=l.tooltipLeft,O=l.tooltipTop,f=l.tooltipData,h=l.hideTooltip,x=l.showTooltip,m=Object(Ae.a)({scroll:!0}),p=m.containerRef,g=m.TooltipInPortal;if(t<10||!o||!a||!i||!j)return null;var v=j.reduce((function(e,t){var c=t.x,n=t.y;return e.concat(o.map((function(e){return{x:c(e),y:n(e)}})))}),[]),y=t-r.left-r.right,w=c-r.top-r.bottom,k=a({domain:Ne(v,"x"),range:[r.left,y]}),S=i({domain:Ne(v,"y"),range:[w+r.top,r.top]});return Object(W.jsxs)(D,Object(d.a)(Object(d.a)({as:"svg",width:t,height:c,ref:p},b),{},{children:[Object(W.jsx)(He.a,{top:r.top,left:r.left,xScale:k,yScale:S,width:y,height:w,stroke:"black",strokeOpacity:.1}),Object(W.jsx)(Re.a,{top:r.top+S(0),left:r.left,scale:k,tickFormat:function(e){var t="".concat(e);return t.match(/^[.01?[\]]*$/)?De(t):""}}),Object(W.jsx)(Te.a,{top:r.top,left:r.left,scale:S}),Object(W.jsx)(Ce.a,{children:o.map((function(e,t){var c=j[0].x(e),n=j[1].x(e),r=j[0].y(e),a=j[1].y(e);return Object(W.jsx)(We.a,{className:"line",from:{x:k(c),y:S(r)},to:{x:k(n),y:S(a)},stroke:n<c?"green":"red",strokeWidth:6,opacity:s&&e.id!==f.id?.05:.3,onMouseLeave:function(){le=window.setTimeout((function(){h()}),300)},onMouseMove:function(t){le&&clearTimeout(le);var r=Object(Me.a)(t);x({tooltipData:Object(d.a)(Object(d.a)({},e),{},{diff:n-c}),tooltipTop:null===r||void 0===r?void 0:r.y,tooltipLeft:null===r||void 0===r?void 0:r.x})}},"line-".concat(t))}))}),Object(W.jsx)(Ce.a,{children:o.map((function(e,t){return Object(W.jsx)(ze.a,{className:"dot",cx:k(j[1].x(e)),cy:S(j[1].y(e)),fill:"black",opacity:s&&e.id!==f.id?.05:.5,r:4},"point-".concat(t))}))}),s&&f&&Object(W.jsx)(g,{top:O,left:u,style:Fe,children:Object(W.jsxs)(_e.b,{children:[Object(W.jsx)(Y,{fontWeight:"bold",fontSize:"0.875em",children:f.industry}),Object(W.jsx)(Y,{fontSize:"1.125em",children:f.item}),Object(W.jsx)(_e.a,{py:"0.5em",spacing:"1em",children:j.map((function(e,t){var c=e.x,n=e.label;return Object(W.jsxs)(_e.b,{children:[Object(W.jsxs)(Y,{children:[n,":"]}),Object(W.jsx)(Y,{fontWeight:"bold",fontSize:"1.125em",children:De(c(f))})]},t)}))}),Object(W.jsx)(Y,{fontWeight:"bold",fontSize:"1.125em",color:f.diff<0?"green.500":"red.500",children:Ee(f.diff)})]})})]}))},Le=c(621),Ve=c(622),$e=function(e){var t=e.ratio,c=e.children,n=Object(Z.a)(e,["ratio","children"]),r=Object(Le.a)(),a=Object(f.a)(r,2),i=a[0],j=a[1],b=j.width,l=j.height,s=Object(Ve.a)({width:b,height:l});return Object(W.jsx)(te.a,Object(d.a)(Object(d.a)({ratio:t,ref:i},n),{},{children:o.a.cloneElement(c,s)}))},qe=function(){var e=Object(i.useState)(),t=Object(f.a)(e,2),c=t[0],n=t[1],r=Object(i.useState)([]),a=Object(f.a)(r,2),o=a[0],j=a[1],b=Object(i.useState)([]),l=Object(f.a)(b,2),s=l[0],u=l[1];Object(i.useEffect)((function(){Object(ge.a)(Se,(function(e){return Object(d.a)(Object(d.a)({},Object(ee.mapValues)(e,(function(e){var t=Number(e);return isNaN(t)?e:t}))),{},{id:e.industry+e.item})})).then((function(e){var t=Object(ee.compact)(e);n(t),j(Object(ee.map)(Object(ee.groupBy)(t,"industry"),(function(e,t){return[t,e.length]})))}))}),[]);var O=Object(i.useMemo)((function(){return c?(console.log(s.length),c&&c.filter((function(e){return e["2020_Q3"]>0&&e["2020_Q4"]>0&&(!s.length||s.includes(e.industry))}))):c}),[c,s]);return Object(W.jsxs)(D,{p:"2em",children:[Object(W.jsx)(xe.a,{mb:"0.5em",children:"2020Q3\u3001Q4 \u8cbf\u6613\u984d\u8b8a\u5316"}),Object(W.jsx)(we.a,{onChange:u,children:Object(W.jsx)(L.a,{flexWrap:"wrap",mx:"-0.25em",children:o.map((function(e){var t=Object(f.a)(e,2),c=t[0],n=t[1];return Object(W.jsx)(D,{m:"0.25em",children:Object(W.jsxs)(ke.a,{value:c,children:[c," (",n,")"]})},c)}))})}),Object(W.jsx)($e,{ratio:3,children:Object(W.jsx)(Je,{data:O,xScale:ve.a,yScale:ye.a,series:[{x:function(e){return e["2020_Q3"]},y:function(e){return e.gr_2020_Q3},label:"2020 Q3"},{x:function(e){return e["2020_Q4"]},y:function(e){return e.gr_2020_Q4},label:"2020 Q4"}]})})]})},Ge=function(){he().isMobile;return Object(W.jsx)(pe,{children:Object(W.jsx)(qe,{})})};var Ke=function(){return Object(W.jsx)(Ge,{})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));b.a.render(Object(W.jsx)(z,{children:Object(W.jsx)(A,{children:Object(W.jsx)(_,{children:Object(W.jsx)(Ke,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[575,1,2]]]);
//# sourceMappingURL=main.b0922c5c.chunk.js.map