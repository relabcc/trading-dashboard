{"version":3,"sources":["vendor/Blob.js","vendor/canvas-toBlob.js","components/ThemeProvider/global-styles.js","components/ThemeProvider/theme.js","components/ThemeProvider/index.js","contexts/mediaQuery/mediaContext.js","contexts/mediaQuery/mqHook.js","contexts/mediaQuery/MediaProvider.js","contexts/header/context.js","contexts/header/Provider.js","containers/DataManager.js","containers/ChartEditor.js","components/Text.js","components/Charts/ScatterLink.js","components/Charts/getExtent.js","components/Box.js","containers/GrowthScatter/HightlightCheckbox.js","components/Link.js","components/Button.js","utils/svgToCanvas.js","containers/DownloadChart.js","containers/GrowthScatter/index.js","components/Charts/Choropleth.js","utils/arrToObj.js","utils/useTsv.js","containers/CountryChoro/countries.tsv","containers/CountryChoro/index.js","components/Flex.js","containers/Header.js","containers/Layout.js","App.js","index.js"],"names":["global","window","self","this","BlobBuilder","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","URL","webkitURL","href","a","document","createElement","origBlob","Blob","createObjectURL","revokeObjectURL","strTag","Symbol","toStringTag","blobSupported","blobSupportsArrayBufferView","arrayBufferSupported","ArrayBuffer","blobBuilderSupported","prototype","append","getBlob","size","Uint8Array","e","mapArrayBufferViews","ary","map","chunk","buffer","buf","byteLength","copy","set","byteOffset","BlobBuilderConstructor","options","bb","forEach","part","type","BlobConstructor","textEncode","TextEncoder","encode","bind","string","pos","len","length","Arr","Array","at","tlen","Math","max","target","value","charCodeAt","extra","update","slice","textDecode","TextDecoder","decode","end","res","i","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","push","str","String","fromCharCode","apply","fixFileAndXHR","isIE","ActiveXObject","documentElement","style","_send","XMLHttpRequest","send","data","setRequestHeader","call","File","klass","Function","b","d","c","blob","t","lastModified","Date","name","replace","lastModifiedDate","toString","bufferClone","view","array","array2base64","input","byteToCharMap","output","byte1","haveByte2","byte2","haveByte3","byte3","outByte1","outByte2","outByte3","outByte4","join","create","Object","viewClasses","isArrayBufferView","isView","obj","indexOf","chunks","opts","_buffer","isPrototypeOf","DataView","offset","l","concatTypedarrays","concat","test","toLowerCase","arrayBuffer","Promise","resolve","text","start","constructor","setPrototypeOf","__proto__","FileReader","TypeError","delegate","createDocumentFragment","addEventListener","dispatchEvent","evt","local","removeEventListener","_read","fr","kind","result","setTimeout","readyState","LOADING","Event","EMPTY","DONE","error","onabort","onerror","onload","onloadend","onloadstart","onprogress","readAsDataURL","readAsText","readAsArrayBuffer","abort","url","FakeBlobBuilder","stream","promisify","reject","Error","ReadableStream","position","autoAllocateChunkSize","pull","controller","v","byobRequest","then","uint8array","bytesRead","respond","close","enqueue","Response","body","getReader","read","base64_ranks","HTMLCanvasElement","canvas_proto","is_base64_regex","to_data_url","decode_base64","base64","rank","code","outptr","last","state","save","undef","toBlob","toBlobHD","callback","mozGetAsFile","msToBlob","args","arguments","dataURI","header_end","substring","is_base64","fake","encoding","decodeURIComponent","toDataURLHD","content","css","breakpoints","em","responsiveIndex","responsiveMap","_","id","findIndex","responsive","memoizeOne","argsLen","get","font","overrides","fonts","heading","mono","colors","theme","primary","secondary","danger","chart","red","green","blue","yellow","orange","containerWidth","headerHeight","customTheme","extendTheme","ReThemeProvider","children","resetCSS","styles","globalStyles","createContext","useMq","bp","useMediaQuery","query","MediaQuery","q","mqHook","Provider","hideHeader","setHideHeader","useState","StyledTable","styled","Table","swapObj","values","entries","filter","fromEntries","DataManager","onValueChange","onConfigChange","config","fields","transposeData","setTranspose","title","ref","useRef","formik","useFormik","initialValues","isEditing","setIsEditing","handleClick","useCallback","current","useEffect","availFields","useMemo","differenceBy","columns","keys","key","alignItems","p","placeholder","onChange","handleChange","val","label","icon","onClick","setFieldValue","dataIndex","fontSize","defaultValue","colorScheme","defaultChecked","checked","mt","spacing","mb","flex","variant","setValues","leftIcon","scroll","y","x","rowKey","useFixedHeader","requiredFields","scatter","x1","x2","y1","y2","group","ChartRenderer","hasError","errorInfo","console","my","color","props","PureComponent","ChartEditor","useLocalStorage","setConfig","pastedData","setPastedData","parsed","tsvParseRows","transpose","head","shift","zip","ReText","Text","Inline","forwardRef","as","Bold","fontWeight","Thin","range","tooltipTimeout","getExtent","accessor","maxBy","min","minBy","defaultMargin","top","right","bottom","left","tooltipStyles","defaultStyles","padding","minWidth","backgroundColor","perFormat","format","commaFormat","commaSignedFormat","Legend","fill","Group","width","height","ScatterLink","margin","xScaleBase","xScale","yScaleBase","yScale","series","highlight","useTooltip","tooltipOpen","tooltipLeft","tooltipTop","tooltipData","hideTooltip","showTooltip","useMeasure","measureRef","canvasSize","useToken","chartRed","chartGreen","useTooltipInPortal","containerRef","TooltipInPortal","allData","reduce","all","xMax","yMax","domain","xTickValues","log10","ceil","viewBox","composeRefs","fontFamily","BarRounded","radius","GridRows","scale","stroke","strokeOpacity","strokeDasharray","GridColumns","tickValues","AxisBottom","strokeWidth","tickFormat","tickLabelProps","textAnchor","AxisLeft","hideAxisLine","hideTicks","j","isHighlight","Line","className","from","to","opacity","onMouseLeave","onMouseMove","event","clearTimeout","eventSvgCoords","localPoint","diff","Circle","cx","cy","r","s","py","ReBox","Box","display","verticalAlign","Absolute","FullAbs","Relative","Fixed","Invisible","overflow","OptionGroups","checkedItems","allChecked","every","Boolean","isIndeterminate","some","isChecked","wrap","n","m","HightlightCheckbox","nameKey","groups","sort","flexWrap","mx","g","border","borderColor","Link","ReButton","defaultProps","Secondary","Danger","PIXEL_RATIO","ctx","getContext","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","svgToCanvas","svgStr","canvas","w","h","ratio","can","setTransform","setHiDPICanvas","encodeURIComponent","image","Image","drawImage","src","DownloadChart","chartRef","downloading","setDownloading","handleDownload","date","toLocaleDateString","serializer","XMLSerializer","source","serializeToString","saveAs","Button","isLoading","GrowthScatter","svgRef","groupBy","All","filteredData","mapValues","k","requiredDone","bg","rounded","scaleLog","scaleLinear","world","topojson","topology","objects","countries","8","9","10","11","12","13","14","15","Choropleth","centerX","centerY","cfg","colorScale","scaleQuantize","keyedData","arr","isArray","legend","renderMap","mercator","features","feature","path","properties","transformOrigin","transform","Mercator","center","translate","clipExtent","useTsv","loading","setLoading","setError","setData","tsv","catch","CountryChoro","country","countryEn","en","eng","namedData","missedData","ReFlex","Flex","Vertical","direction","links","Header","siteTitle","zIndex","px","RouterLink","Layout","useContext","headerContext","minHeight","pt","maxW","App","ReactDOM","render","ThemeProvider","MediaProvider","getElementById"],"mappings":"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","file":"static/js/main.b7a9193e.chunk.js","sourcesContent":["/* eslint-disable */\r\n/* Blob.js\r\n * A Blob, File, FileReader & URL implementation.\r\n * 2019-04-19\r\n *\r\n * By Eli Grey, http://eligrey.com\r\n * By Jimmy Wärting, https://github.com/jimmywarting\r\n * License: MIT\r\n *   See https://github.com/eligrey/Blob.js/blob/master/LICENSE.md\r\n */\r\n\r\n;(function () {\r\n  var global = typeof window === 'object'\r\n      ? window : typeof self === 'object'\r\n      ? self : this\r\n\r\n  var BlobBuilder = global.BlobBuilder\r\n    || global.WebKitBlobBuilder\r\n    || global.MSBlobBuilder\r\n    || global.MozBlobBuilder\r\n\r\n  global.URL = global.URL || global.webkitURL || function (href, a) {\r\n  \ta = document.createElement('a')\r\n  \ta.href = href\r\n  \treturn a\r\n  }\r\n\r\n  var origBlob = global.Blob\r\n  var createObjectURL = URL.createObjectURL\r\n  var revokeObjectURL = URL.revokeObjectURL\r\n  var strTag = global.Symbol && global.Symbol.toStringTag\r\n  var blobSupported = false\r\n  var blobSupportsArrayBufferView = false\r\n  var arrayBufferSupported = !!global.ArrayBuffer\r\n  var blobBuilderSupported = BlobBuilder\r\n    && BlobBuilder.prototype.append\r\n    && BlobBuilder.prototype.getBlob\r\n\r\n  try {\r\n    // Check if Blob constructor is supported\r\n    blobSupported = new Blob(['ä']).size === 2\r\n\r\n    // Check if Blob constructor supports ArrayBufferViews\r\n    // Fails in Safari 6, so we need to map to ArrayBuffers there.\r\n    blobSupportsArrayBufferView = new Blob([new Uint8Array([1, 2])]).size === 2\r\n  } catch (e) {}\r\n\r\n  /**\r\n   * Helper function that maps ArrayBufferViews to ArrayBuffers\r\n   * Used by BlobBuilder constructor and old browsers that didn't\r\n   * support it in the Blob constructor.\r\n   */\r\n  function mapArrayBufferViews (ary) {\r\n    return ary.map(function (chunk) {\r\n      if (chunk.buffer instanceof ArrayBuffer) {\r\n        var buf = chunk.buffer\r\n\r\n        // if this is a subarray, make a copy so we only\r\n        // include the subarray region from the underlying buffer\r\n        if (chunk.byteLength !== buf.byteLength) {\r\n          var copy = new Uint8Array(chunk.byteLength)\r\n          copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength))\r\n          buf = copy.buffer\r\n        }\r\n\r\n        return buf\r\n      }\r\n\r\n      return chunk\r\n    })\r\n  }\r\n\r\n  function BlobBuilderConstructor (ary, options) {\r\n    options = options || {}\r\n\r\n    var bb = new BlobBuilder()\r\n    mapArrayBufferViews(ary).forEach(function (part) {\r\n      bb.append(part)\r\n    })\r\n\r\n    return options.type ? bb.getBlob(options.type) : bb.getBlob()\r\n  }\r\n\r\n  function BlobConstructor (ary, options) {\r\n    return new origBlob(mapArrayBufferViews(ary), options || {})\r\n  }\r\n\r\n  if (global.Blob) {\r\n    BlobBuilderConstructor.prototype = Blob.prototype\r\n    BlobConstructor.prototype = Blob.prototype\r\n  }\r\n\r\n\r\n\r\n  /********************************************************/\r\n  /*               String Encoder fallback                */\r\n  /********************************************************/\r\n  function stringEncode (string) {\r\n    var pos = 0\r\n    var len = string.length\r\n    var Arr = global.Uint8Array || Array // Use byte array when possible\r\n\r\n    var at = 0  // output position\r\n    var tlen = Math.max(32, len + (len >> 1) + 7)  // 1.5x size\r\n    var target = new Arr((tlen >> 3) << 3)  // ... but at 8 byte offset\r\n\r\n    while (pos < len) {\r\n      var value = string.charCodeAt(pos++)\r\n      if (value >= 0xd800 && value <= 0xdbff) {\r\n        // high surrogate\r\n        if (pos < len) {\r\n          var extra = string.charCodeAt(pos)\r\n          if ((extra & 0xfc00) === 0xdc00) {\r\n            ++pos\r\n            value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000\r\n          }\r\n        }\r\n        if (value >= 0xd800 && value <= 0xdbff) {\r\n          continue  // drop lone surrogate\r\n        }\r\n      }\r\n\r\n      // expand the buffer if we couldn't write 4 bytes\r\n      if (at + 4 > target.length) {\r\n        tlen += 8  // minimum extra\r\n        tlen *= (1.0 + (pos / string.length) * 2)  // take 2x the remaining\r\n        tlen = (tlen >> 3) << 3  // 8 byte offset\r\n\r\n        var update = new Uint8Array(tlen)\r\n        update.set(target)\r\n        target = update\r\n      }\r\n\r\n      if ((value & 0xffffff80) === 0) {  // 1-byte\r\n        target[at++] = value  // ASCII\r\n        continue\r\n      } else if ((value & 0xfffff800) === 0) {  // 2-byte\r\n        target[at++] = ((value >> 6) & 0x1f) | 0xc0\r\n      } else if ((value & 0xffff0000) === 0) {  // 3-byte\r\n        target[at++] = ((value >> 12) & 0x0f) | 0xe0\r\n        target[at++] = ((value >> 6) & 0x3f) | 0x80\r\n      } else if ((value & 0xffe00000) === 0) {  // 4-byte\r\n        target[at++] = ((value >> 18) & 0x07) | 0xf0\r\n        target[at++] = ((value >> 12) & 0x3f) | 0x80\r\n        target[at++] = ((value >> 6) & 0x3f) | 0x80\r\n      } else {\r\n        // FIXME: do we care\r\n        continue\r\n      }\r\n\r\n      target[at++] = (value & 0x3f) | 0x80\r\n    }\r\n\r\n    return target.slice(0, at)\r\n  }\r\n\r\n  /********************************************************/\r\n  /*               String Decoder fallback                */\r\n  /********************************************************/\r\n  function stringDecode (buf) {\r\n    var end = buf.length\r\n    var res = []\r\n\r\n    var i = 0\r\n    while (i < end) {\r\n      var firstByte = buf[i]\r\n      var codePoint = null\r\n      var bytesPerSequence = (firstByte > 0xEF) ? 4\r\n        : (firstByte > 0xDF) ? 3\r\n          : (firstByte > 0xBF) ? 2\r\n            : 1\r\n\r\n      if (i + bytesPerSequence <= end) {\r\n        var secondByte, thirdByte, fourthByte, tempCodePoint\r\n\r\n        switch (bytesPerSequence) {\r\n          case 1:\r\n            if (firstByte < 0x80) {\r\n              codePoint = firstByte\r\n            }\r\n            break\r\n          case 2:\r\n            secondByte = buf[i + 1]\r\n            if ((secondByte & 0xC0) === 0x80) {\r\n              tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\r\n              if (tempCodePoint > 0x7F) {\r\n                codePoint = tempCodePoint\r\n              }\r\n            }\r\n            break\r\n          case 3:\r\n            secondByte = buf[i + 1]\r\n            thirdByte = buf[i + 2]\r\n            if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\r\n              tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\r\n              if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\r\n                codePoint = tempCodePoint\r\n              }\r\n            }\r\n            break\r\n          case 4:\r\n            secondByte = buf[i + 1]\r\n            thirdByte = buf[i + 2]\r\n            fourthByte = buf[i + 3]\r\n            if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\r\n              tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\r\n              if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\r\n                codePoint = tempCodePoint\r\n              }\r\n            }\r\n        }\r\n      }\r\n\r\n      if (codePoint === null) {\r\n        // we did not generate a valid codePoint so insert a\r\n        // replacement char (U+FFFD) and advance only 1 byte\r\n        codePoint = 0xFFFD\r\n        bytesPerSequence = 1\r\n      } else if (codePoint > 0xFFFF) {\r\n        // encode to utf16 (surrogate pair dance)\r\n        codePoint -= 0x10000\r\n        res.push(codePoint >>> 10 & 0x3FF | 0xD800)\r\n        codePoint = 0xDC00 | codePoint & 0x3FF\r\n      }\r\n\r\n      res.push(codePoint)\r\n      i += bytesPerSequence\r\n    }\r\n\r\n    var len = res.length\r\n    var str = ''\r\n    var i = 0\r\n\r\n    while (i < len) {\r\n      str += String.fromCharCode.apply(String, res.slice(i, i += 0x1000))\r\n    }\r\n\r\n    return str\r\n  }\r\n\r\n  // string -> buffer\r\n  var textEncode = typeof TextEncoder === 'function'\r\n    ? TextEncoder.prototype.encode.bind(new TextEncoder())\r\n    : stringEncode\r\n\r\n  // buffer -> string\r\n  var textDecode = typeof TextDecoder === 'function'\r\n    ? TextDecoder.prototype.decode.bind(new TextDecoder())\r\n    : stringDecode\r\n\r\n  function FakeBlobBuilder () {\r\n    function isDataView (obj) {\r\n      return obj && DataView.prototype.isPrototypeOf(obj)\r\n    }\r\n    function bufferClone (buf) {\r\n      var view = new Array(buf.byteLength)\r\n      var array = new Uint8Array(buf)\r\n      var i = view.length\r\n      while (i--) {\r\n        view[i] = array[i]\r\n      }\r\n      return view\r\n    }\r\n    function array2base64 (input) {\r\n      var byteToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\r\n\r\n      var output = []\r\n\r\n      for (var i = 0; i < input.length; i += 3) {\r\n        var byte1 = input[i]\r\n        var haveByte2 = i + 1 < input.length\r\n        var byte2 = haveByte2 ? input[i + 1] : 0\r\n        var haveByte3 = i + 2 < input.length\r\n        var byte3 = haveByte3 ? input[i + 2] : 0\r\n\r\n        var outByte1 = byte1 >> 2\r\n        var outByte2 = ((byte1 & 0x03) << 4) | (byte2 >> 4)\r\n        var outByte3 = ((byte2 & 0x0F) << 2) | (byte3 >> 6)\r\n        var outByte4 = byte3 & 0x3F\r\n\r\n        if (!haveByte3) {\r\n          outByte4 = 64\r\n\r\n          if (!haveByte2) {\r\n            outByte3 = 64\r\n          }\r\n        }\r\n\r\n        output.push(\r\n          byteToCharMap[outByte1], byteToCharMap[outByte2],\r\n          byteToCharMap[outByte3], byteToCharMap[outByte4]\r\n        )\r\n      }\r\n\r\n      return output.join('')\r\n    }\r\n\r\n    var create = Object.create || function (a) {\r\n      function c () {}\r\n      c.prototype = a\r\n      return new c()\r\n    }\r\n\r\n    if (arrayBufferSupported) {\r\n      var viewClasses = [\r\n        '[object Int8Array]',\r\n        '[object Uint8Array]',\r\n        '[object Uint8ClampedArray]',\r\n        '[object Int16Array]',\r\n        '[object Uint16Array]',\r\n        '[object Int32Array]',\r\n        '[object Uint32Array]',\r\n        '[object Float32Array]',\r\n        '[object Float64Array]'\r\n      ]\r\n\r\n      var isArrayBufferView = ArrayBuffer.isView || function (obj) {\r\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\r\n      }\r\n    }\r\n\r\n    function concatTypedarrays (chunks) {\r\n      var size = 0\r\n      var i = chunks.length\r\n      while (i--) { size += chunks[i].length }\r\n      var b = new Uint8Array(size)\r\n      var offset = 0\r\n      for (i = 0, l = chunks.length; i < l; i++) {\r\n        var chunk = chunks[i]\r\n        b.set(chunk, offset)\r\n        offset += chunk.byteLength || chunk.length\r\n      }\r\n\r\n      return b\r\n    }\r\n\r\n    /********************************************************/\r\n    /*                   Blob constructor                   */\r\n    /********************************************************/\r\n    function Blob (chunks, opts) {\r\n      chunks = chunks || []\r\n      opts = opts == null ? {} : opts\r\n      for (var i = 0, len = chunks.length; i < len; i++) {\r\n        var chunk = chunks[i]\r\n        if (chunk instanceof Blob) {\r\n          chunks[i] = chunk._buffer\r\n        } else if (typeof chunk === 'string') {\r\n          chunks[i] = textEncode(chunk)\r\n        } else if (arrayBufferSupported && (ArrayBuffer.prototype.isPrototypeOf(chunk) || isArrayBufferView(chunk))) {\r\n          chunks[i] = bufferClone(chunk)\r\n        } else if (arrayBufferSupported && isDataView(chunk)) {\r\n          chunks[i] = bufferClone(chunk.buffer)\r\n        } else {\r\n          chunks[i] = textEncode(String(chunk))\r\n        }\r\n      }\r\n\r\n      this._buffer = global.Uint8Array\r\n        ? concatTypedarrays(chunks)\r\n        : [].concat.apply([], chunks)\r\n      this.size = this._buffer.length\r\n\r\n      this.type = opts.type || ''\r\n      if (/[^\\u0020-\\u007E]/.test(this.type)) {\r\n        this.type = ''\r\n      } else {\r\n        this.type = this.type.toLowerCase()\r\n      }\r\n    }\r\n\r\n    Blob.prototype.arrayBuffer = function () {\r\n      return Promise.resolve(this._buffer)\r\n    }\r\n\r\n    Blob.prototype.text = function () {\r\n      return Promise.resolve(textDecode(this._buffer))\r\n    }\r\n\r\n    Blob.prototype.slice = function (start, end, type) {\r\n      var slice = this._buffer.slice(start || 0, end || this._buffer.length)\r\n      return new Blob([slice], {type: type})\r\n    }\r\n\r\n    Blob.prototype.toString = function () {\r\n      return '[object Blob]'\r\n    }\r\n\r\n    /********************************************************/\r\n    /*                   File constructor                   */\r\n    /********************************************************/\r\n    function File (chunks, name, opts) {\r\n      opts = opts || {}\r\n      var a = Blob.call(this, chunks, opts) || this\r\n      a.name = name.replace(/\\//g, ':')\r\n      a.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date()\r\n      a.lastModified = +a.lastModifiedDate\r\n\r\n      return a\r\n    }\r\n\r\n    File.prototype = create(Blob.prototype)\r\n    File.prototype.constructor = File\r\n\r\n    if (Object.setPrototypeOf) {\r\n      Object.setPrototypeOf(File, Blob)\r\n    } else {\r\n      try { File.__proto__ = Blob } catch (e) {}\r\n    }\r\n\r\n    File.prototype.toString = function () {\r\n      return '[object File]'\r\n    }\r\n\r\n    /********************************************************/\r\n    /*                FileReader constructor                */\r\n    /********************************************************/\r\n    function FileReader () {\r\n    \tif (!(this instanceof FileReader)) {\r\n        throw new TypeError(\"Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\")\r\n      }\r\n\r\n    \tvar delegate = document.createDocumentFragment()\r\n    \tthis.addEventListener = delegate.addEventListener\r\n    \tthis.dispatchEvent = function (evt) {\r\n    \t\tvar local = this['on' + evt.type]\r\n    \t\tif (typeof local === 'function') local(evt)\r\n    \t\tdelegate.dispatchEvent(evt)\r\n    \t}\r\n    \tthis.removeEventListener = delegate.removeEventListener\r\n    }\r\n\r\n    function _read (fr, blob, kind) {\r\n    \tif (!(blob instanceof Blob)) {\r\n        throw new TypeError(\"Failed to execute '\" + kind + \"' on 'FileReader': parameter 1 is not of type 'Blob'.\")\r\n      }\r\n\r\n    \tfr.result = ''\r\n\r\n    \tsetTimeout(function () {\r\n    \t\tthis.readyState = FileReader.LOADING\r\n    \t\tfr.dispatchEvent(new Event('load'))\r\n    \t\tfr.dispatchEvent(new Event('loadend'))\r\n    \t})\r\n    }\r\n\r\n    FileReader.EMPTY = 0\r\n    FileReader.LOADING = 1\r\n    FileReader.DONE = 2\r\n    FileReader.prototype.error = null\r\n    FileReader.prototype.onabort = null\r\n    FileReader.prototype.onerror = null\r\n    FileReader.prototype.onload = null\r\n    FileReader.prototype.onloadend = null\r\n    FileReader.prototype.onloadstart = null\r\n    FileReader.prototype.onprogress = null\r\n\r\n    FileReader.prototype.readAsDataURL = function (blob) {\r\n    \t_read(this, blob, 'readAsDataURL')\r\n    \tthis.result = 'data:' + blob.type + ';base64,' + array2base64(blob._buffer)\r\n    }\r\n\r\n    FileReader.prototype.readAsText = function (blob) {\r\n    \t_read(this, blob, 'readAsText')\r\n    \tthis.result = textDecode(blob._buffer)\r\n    }\r\n\r\n    FileReader.prototype.readAsArrayBuffer = function (blob) {\r\n      _read(this, blob, 'readAsText')\r\n       // return ArrayBuffer when possible\r\n      this.result = (blob._buffer.buffer || blob._buffer).slice()\r\n    }\r\n\r\n    FileReader.prototype.abort = function () {}\r\n\r\n    /********************************************************/\r\n    /*                         URL                          */\r\n    /********************************************************/\r\n    URL.createObjectURL = function (blob) {\r\n      return blob instanceof Blob\r\n        ? 'data:' + blob.type + ';base64,' + array2base64(blob._buffer)\r\n        : createObjectURL.call(URL, blob)\r\n    }\r\n\r\n    URL.revokeObjectURL = function (url) {\r\n      revokeObjectURL && revokeObjectURL.call(URL, url)\r\n    }\r\n\r\n    /********************************************************/\r\n    /*                         XHR                          */\r\n    /********************************************************/\r\n    var _send = global.XMLHttpRequest && global.XMLHttpRequest.prototype.send\r\n    if (_send) {\r\n      XMLHttpRequest.prototype.send = function (data) {\r\n        if (data instanceof Blob) {\r\n          this.setRequestHeader('Content-Type', data.type)\r\n          _send.call(this, textDecode(data._buffer))\r\n        } else {\r\n          _send.call(this, data)\r\n        }\r\n      }\r\n    }\r\n\r\n    global.FileReader = FileReader\r\n    global.File = File\r\n    global.Blob = Blob\r\n  }\r\n\r\n  function fixFileAndXHR () {\r\n    var isIE = !!global.ActiveXObject || (\r\n      '-ms-scroll-limit' in document.documentElement.style &&\r\n      '-ms-ime-align' in document.documentElement.style\r\n    )\r\n\r\n    // Monkey patched\r\n    // IE don't set Content-Type header on XHR whose body is a typed Blob\r\n    // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/6047383\r\n    var _send = global.XMLHttpRequest && global.XMLHttpRequest.prototype.send\r\n    if (isIE && _send) {\r\n      XMLHttpRequest.prototype.send = function (data) {\r\n        if (data instanceof Blob) {\r\n          this.setRequestHeader('Content-Type', data.type)\r\n          _send.call(this, data)\r\n        } else {\r\n          _send.call(this, data)\r\n        }\r\n      }\r\n    }\r\n\r\n    try {\r\n      new File([], '')\r\n    } catch (e) {\r\n      try {\r\n        var klass = new Function('class File extends Blob {' +\r\n          'constructor(chunks, name, opts) {' +\r\n            'opts = opts || {};' +\r\n            'super(chunks, opts || {});' +\r\n            'this.name = name.replace(/\\//g, \":\");' +\r\n            'this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date();' +\r\n            'this.lastModified = +this.lastModifiedDate;' +\r\n          '}};' +\r\n          'return new File([], \"\"), File'\r\n        )()\r\n        global.File = klass\r\n      } catch (e) {\r\n        var klass = function (b, d, c) {\r\n          var blob = new Blob(b, c)\r\n          var t = c && void 0 !== c.lastModified ? new Date(c.lastModified) : new Date()\r\n\r\n          blob.name = d.replace(/\\//g, ':')\r\n          blob.lastModifiedDate = t\r\n          blob.lastModified = +t\r\n          blob.toString = function () {\r\n            return '[object File]'\r\n          }\r\n\r\n          if (strTag) {\r\n            blob[strTag] = 'File'\r\n          }\r\n\r\n          return blob\r\n        }\r\n        global.File = klass\r\n      }\r\n    }\r\n  }\r\n\r\n  if (blobSupported) {\r\n    fixFileAndXHR()\r\n    global.Blob = blobSupportsArrayBufferView ? global.Blob : BlobConstructor\r\n  } else if (blobBuilderSupported) {\r\n    fixFileAndXHR()\r\n    global.Blob = BlobBuilderConstructor\r\n  } else {\r\n    FakeBlobBuilder()\r\n  }\r\n\r\n  if (strTag) {\r\n    File.prototype[strTag] = 'File'\r\n    Blob.prototype[strTag] = 'Blob'\r\n    FileReader.prototype[strTag] = 'FileReader'\r\n  }\r\n\r\n  var blob = global.Blob.prototype\r\n  var stream\r\n\r\n  function promisify(obj) {\r\n    return new Promise(function(resolve, reject) {\r\n      obj.onload =\r\n      obj.onerror = function(evt) {\r\n        obj.onload =\r\n        obj.onerror = null\r\n\r\n        evt.type === 'load'\r\n          ? resolve(obj.result || obj)\r\n          : reject(new Error('Failed to read the blob/file'))\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  try {\r\n    new ReadableStream({ type: 'bytes' })\r\n    stream = function stream() {\r\n      var position = 0\r\n      var blob = this\r\n\r\n      return new ReadableStream({\r\n        type: 'bytes',\r\n        autoAllocateChunkSize: 524288,\r\n\r\n        pull: function (controller) {\r\n          var v = controller.byobRequest.view\r\n          var chunk = blob.slice(position, position + v.byteLength)\r\n          return chunk.arrayBuffer()\r\n          .then(function (buffer) {\r\n            var uint8array = new Uint8Array(buffer)\r\n            var bytesRead = uint8array.byteLength\r\n\r\n            position += bytesRead\r\n            v.set(uint8array)\r\n              controller.byobRequest.respond(bytesRead)\r\n\r\n            if(position >= blob.size)\r\n              controller.close()\r\n          })\r\n        }\r\n      })\r\n    }\r\n  } catch (e) {\r\n    try {\r\n      new ReadableStream({})\r\n      stream = function stream(blob){\r\n        var position = 0\r\n        var blob = this\r\n\r\n        return new ReadableStream({\r\n          pull: function (controller) {\r\n            var chunk = blob.slice(position, position + 524288)\r\n\r\n            return chunk.arrayBuffer().then(function (buffer) {\r\n              position += buffer.byteLength\r\n              var uint8array = new Uint8Array(buffer)\r\n              controller.enqueue(uint8array)\r\n\r\n              if (position == blob.size)\r\n                controller.close()\r\n            })\r\n          }\r\n        })\r\n      }\r\n    } catch (e) {\r\n      try {\r\n        new Response('').body.getReader().read()\r\n        stream = function stream() {\r\n          return (new Response(this)).body\r\n        }\r\n      } catch (e) {\r\n        stream = function stream() {\r\n          throw new Error('Include https://github.com/MattiasBuelens/web-streams-polyfill')\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  if (!blob.arrayBuffer) {\r\n    blob.arrayBuffer = function arrayBuffer() {\r\n      var fr = new FileReader()\r\n      fr.readAsArrayBuffer(this)\r\n      return promisify(fr)\r\n    }\r\n  }\r\n\r\n  if (!blob.text) {\r\n    blob.text = function text() {\r\n      var fr = new FileReader()\r\n      fr.readAsText(this)\r\n      return promisify(fr)\r\n    }\r\n  }\r\n\r\n  if (!blob.stream) {\r\n    blob.stream = stream\r\n  }\r\n})()\r\n","/* eslint-disable */\r\n/* canvas-toBlob.js\r\n * A canvas.toBlob() implementation.\r\n * 2016-05-26\r\n *\r\n * By Eli Grey, http://eligrey.com and Devin Samarin, https://github.com/eboyjr\r\n * License: MIT\r\n *   See https://github.com/eligrey/canvas-toBlob.js/blob/master/LICENSE.md\r\n */\r\n\r\n/*global self */\r\n/*jslint bitwise: true, regexp: true, confusion: true, es5: true, vars: true, white: true,\r\n  plusplus: true */\r\n\r\n/*! @source http://purl.eligrey.com/github/canvas-toBlob.js/blob/master/canvas-toBlob.js */\r\n\r\n(function(view) {\r\n\"use strict\";\r\nvar\r\n\t  Uint8Array = view.Uint8Array\r\n\t, HTMLCanvasElement = view.HTMLCanvasElement\r\n\t, canvas_proto = HTMLCanvasElement && HTMLCanvasElement.prototype\r\n\t, is_base64_regex = /\\s*;\\s*base64\\s*(?:;|$)/i\r\n\t, to_data_url = \"toDataURL\"\r\n\t, base64_ranks\r\n\t, decode_base64 = function(base64) {\r\n\t\tvar\r\n\t\t\t  len = base64.length\r\n\t\t\t, buffer = new Uint8Array(len / 4 * 3 | 0)\r\n\t\t\t, i = 0\r\n\t\t\t, outptr = 0\r\n\t\t\t, last = [0, 0]\r\n\t\t\t, state = 0\r\n\t\t\t, save = 0\r\n\t\t\t, rank\r\n\t\t\t, code\r\n\t\t\t, undef\r\n\t\t;\r\n\t\twhile (len--) {\r\n\t\t\tcode = base64.charCodeAt(i++);\r\n\t\t\trank = base64_ranks[code-43];\r\n\t\t\tif (rank !== 255 && rank !== undef) {\r\n\t\t\t\tlast[1] = last[0];\r\n\t\t\t\tlast[0] = code;\r\n\t\t\t\tsave = (save << 6) | rank;\r\n\t\t\t\tstate++;\r\n\t\t\t\tif (state === 4) {\r\n\t\t\t\t\tbuffer[outptr++] = save >>> 16;\r\n\t\t\t\t\tif (last[1] !== 61 /* padding character */) {\r\n\t\t\t\t\t\tbuffer[outptr++] = save >>> 8;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (last[0] !== 61 /* padding character */) {\r\n\t\t\t\t\t\tbuffer[outptr++] = save;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstate = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// 2/3 chance there's going to be some null bytes at the end, but that\r\n\t\t// doesn't really matter with most image formats.\r\n\t\t// If it somehow matters for you, truncate the buffer up outptr.\r\n\t\treturn buffer;\r\n\t}\r\n;\r\nif (Uint8Array) {\r\n\tbase64_ranks = new Uint8Array([\r\n\t\t  62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1\r\n\t\t, -1, -1,  0, -1, -1, -1,  0,  1,  2,  3,  4,  5,  6,  7,  8,  9\r\n\t\t, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25\r\n\t\t, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35\r\n\t\t, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51\r\n\t]);\r\n}\r\nif (HTMLCanvasElement && (!canvas_proto.toBlob || !canvas_proto.toBlobHD)) {\r\n\tif (!canvas_proto.toBlob)\r\n\tcanvas_proto.toBlob = function(callback, type /*, ...args*/) {\r\n\t\t  if (!type) {\r\n\t\t\ttype = \"image/png\";\r\n\t\t} if (this.mozGetAsFile) {\r\n\t\t\tcallback(this.mozGetAsFile(\"canvas\", type));\r\n\t\t\treturn;\r\n\t\t} if (this.msToBlob && /^\\s*image\\/png\\s*(?:$|;)/i.test(type)) {\r\n\t\t\tcallback(this.msToBlob());\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar\r\n\t\t\t  args = Array.prototype.slice.call(arguments, 1)\r\n\t\t\t, dataURI = this[to_data_url].apply(this, args)\r\n\t\t\t, header_end = dataURI.indexOf(\",\")\r\n\t\t\t, data = dataURI.substring(header_end + 1)\r\n\t\t\t, is_base64 = is_base64_regex.test(dataURI.substring(0, header_end))\r\n\t\t\t, blob\r\n\t\t;\r\n\t\tif (Blob.fake) {\r\n\t\t\t// no reason to decode a data: URI that's just going to become a data URI again\r\n\t\t\tblob = new Blob\r\n\t\t\tif (is_base64) {\r\n\t\t\t\tblob.encoding = \"base64\";\r\n\t\t\t} else {\r\n\t\t\t\tblob.encoding = \"URI\";\r\n\t\t\t}\r\n\t\t\tblob.data = data;\r\n\t\t\tblob.size = data.length;\r\n\t\t} else if (Uint8Array) {\r\n\t\t\tif (is_base64) {\r\n\t\t\t\tblob = new Blob([decode_base64(data)], {type: type});\r\n\t\t\t} else {\r\n\t\t\t\tblob = new Blob([decodeURIComponent(data)], {type: type});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcallback(blob);\r\n\t};\r\n\r\n\tif (!canvas_proto.toBlobHD && canvas_proto.toDataURLHD) {\r\n\t\tcanvas_proto.toBlobHD = function() {\r\n\t\t\tto_data_url = \"toDataURLHD\";\r\n\t\t\tvar blob = this.toBlob();\r\n\t\t\tto_data_url = \"toDataURL\";\r\n\t\t\treturn blob;\r\n\t\t}\r\n\t} else {\r\n\t\tcanvas_proto.toBlobHD = canvas_proto.toBlob;\r\n\t}\r\n}\r\n}(typeof self !== \"undefined\" && self || typeof window !== \"undefined\" && window || this.content || this));\r\n","import { css } from '@emotion/react'\r\n\r\nexport default css`\r\n  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');\r\n\r\n  body {\r\n    min-width: 100%;\r\n    min-height: 100%;\r\n  }\r\n\r\n  img {\r\n    width: 100%;\r\n  }\r\n`;\r\n","import { theme, extendTheme } from \"@chakra-ui/react\";\r\nimport memoizeOne from 'memoize-one';\r\nimport get from 'lodash/get';\r\n\r\nexport const breakpoints = [30, 48, 62, 80].map(em => em * 16);\r\n\r\nexport const responsiveIndex = [\r\n  [1, 'mobile'],\r\n  [2, 'tablet'],\r\n  [3, 'laptop'],\r\n  [4, 'desktop'],\r\n]\r\n\r\nconst responsiveMap = breakpoints.map((_, i) => {\r\n  const id = responsiveIndex.findIndex(([ri]) => ri + 1 > i)\r\n  return id >= 0 ? id : responsiveIndex.length\r\n})\r\n\r\nexport const responsive = memoizeOne((...args) => {\r\n  const argsLen = args.length\r\n  if (argsLen <= 1) return args[0]\r\n  return breakpoints.map((_, i) => get(args, [responsiveMap[i]], null))\r\n});\r\n\r\nexport const mobileOrDesktop = responsive\r\n\r\nexport const containerWidth = [\"26em\", \"44em\", \"58em\", \"76em\"];\r\nexport const containerPadding = responsive('1em', '2em')\r\n\r\nconst font = '\"Noto Sans TC\", \"PingFang TC\", \"HeiTi TC\", \"Microsoft JhengHei\", sans-serif';\r\nconst fonts = {\r\n  heading: font,\r\n  body: font,\r\n  mono: \"Menlo, monospace\",\r\n}\r\n\r\nconst primary = 'orange'\r\nconst secondary = 'green'\r\nconst danger = 'red'\r\n\r\nconst overrides = {\r\n  fonts,\r\n  colors: {\r\n    ...theme.colors,\r\n    primary: get(theme.colors, `${primary}.500`),\r\n    secondary: get(theme.colors, `${secondary}.500`),\r\n    danger: get(theme.colors, `${danger}.500`),\r\n    text: get(theme.colors, 'black'),\r\n    chart: {\r\n      red: '#EB6061',\r\n      green: '#19B9BF',\r\n      blue: '#23D1E7',\r\n      yellow: '#FFE349',\r\n      orange: '#F4AF32',\r\n    }\r\n  },\r\n  breakpoints,\r\n  containerWidth,\r\n  headerHeight: '4em',\r\n}\r\n\r\nconst customTheme = extendTheme(overrides)\r\n\r\nexport default customTheme\r\n","import React from 'react';\r\nimport { Global } from '@emotion/react'\r\nimport { ChakraProvider } from \"@chakra-ui/react\"\r\n\r\nimport globalStyles from './global-styles';\r\n\r\nimport theme from './theme';\r\n\r\nconst ReThemeProvider = ({ children }) => (\r\n  <ChakraProvider theme={theme} resetCSS>\r\n    <>\r\n      <Global styles={globalStyles} />\r\n      {children}\r\n    </>\r\n  </ChakraProvider>\r\n);\r\n\r\nexport default ReThemeProvider\r\n","import { createContext } from 'react';\r\n\r\nexport default createContext({})\r\n","import { useMediaQuery } from 'react-responsive'\r\n\r\nconst useMq = bp => useMediaQuery({ query: `(min-width: ${bp}px)` })\r\n\r\nexport default useMq\r\n","import React from 'react';\r\n\r\nimport { breakpoints } from '../../components/ThemeProvider/theme';\r\nimport MediaContext from './mediaContext'\r\nimport mqHook from './mqHook'\r\n\r\nconst MediaQuery = ({ children }) => {\r\n  const q = breakpoints.map(mqHook)\r\n  return (\r\n    <MediaContext.Provider value={q}>\r\n      {children}\r\n    </MediaContext.Provider>\r\n  )\r\n}\r\n\r\nexport default MediaQuery;\r\n","import { createContext } from 'react';\r\n\r\nexport default createContext({\r\n  hideHeader: false,\r\n  setHideHeader: () => {},\r\n})\r\n","import React, { useState } from 'react';\r\n\r\nimport Context from './context'\r\n\r\nconst Provider = ({ children }) => {\r\n  const [hideHeader, setHideHeader] = useState()\r\n  return (\r\n    <Context.Provider value={{ hideHeader, setHideHeader }}>\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport default Provider;\r\n","import { IconButton } from '@chakra-ui/button';\r\nimport { Box, Heading, HStack, Stack } from '@chakra-ui/layout';\r\nimport { Textarea } from '@chakra-ui/textarea';\r\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react'\r\nimport { MdClose, MdEdit, MdRefresh } from 'react-icons/md'\r\nimport { Button } from '@chakra-ui/button';\r\nimport Table from 'rc-table';\r\nimport styled from '@emotion/styled';\r\nimport { FormControl, FormLabel } from '@chakra-ui/form-control';\r\nimport { Select } from '@chakra-ui/select';\r\nimport { useFormik } from 'formik';\r\nimport { differenceBy } from 'lodash';\r\nimport { Checkbox } from '@chakra-ui/checkbox';\r\n\r\nconst StyledTable = styled(Table)`\r\ntable {\r\n  width: 100%;\r\n}\r\ntd {\r\n  padding: 0.25em;\r\n  border: 1px solid lightGray;\r\n  min-width: 8em;\r\n}\r\n.rc-table-body {\r\n  overflow-x: hidden;\r\n}\r\n`\r\n\r\nconst swapObj = obj => {\r\n  const values = Object.entries(obj).filter(v => v[1]).map(v => [v[1], v[0]])\r\n  return Object.fromEntries(values)\r\n}\r\n\r\nconst DataManager = ({\r\n  onValueChange,\r\n  onConfigChange,\r\n  config,\r\n  value,\r\n  data,\r\n  fields,\r\n  transposeData,\r\n  setTranspose,\r\n  title,\r\n}) => {\r\n  const ref = useRef()\r\n  const formik = useFormik({ initialValues: swapObj(config) })\r\n  const [isEditing, setIsEditing] = useState(!value)\r\n  const handleClick = useCallback(() => {\r\n    onValueChange(ref.current.value)\r\n    setIsEditing(false)\r\n  }, [onValueChange])\r\n  useEffect(() => {\r\n    onConfigChange(swapObj(formik.values))\r\n  }, [formik.values, onConfigChange])\r\n  const availFields = useMemo(() => differenceBy(Object.entries(fields), Object.values(formik.values).map(v => [v]), 0), [formik.values, fields])\r\n  const columns = useMemo(() => data[0] ? Object.keys(data[0]).filter(key => key !== 'id').map(key => ({\r\n    key,\r\n    title: (\r\n      <HStack alignItems=\"flex-end\" p=\"0.25em\">\r\n        <FormControl id={key}>\r\n          <FormLabel>{key}</FormLabel>\r\n          {formik.values[key] ? fields[formik.values[key]] : (\r\n            <Select\r\n              placeholder=\"選擇欄位類型\"\r\n              onChange={formik.handleChange}\r\n              value={formik.values[key]}\r\n            >\r\n              {availFields.map(([val, label], i) => <option key={i} value={val}>{label}</option>)}\r\n            </Select>\r\n          )}\r\n\r\n        </FormControl>\r\n        {formik.values[key] && <IconButton icon={<MdClose />} onClick={() => formik.setFieldValue(key, '')} />}\r\n      </HStack>\r\n    ),\r\n    dataIndex: key,\r\n  })) : [], [data, availFields, fields, formik])\r\n  const heading = <Heading fontSize=\"xl\">製作{title}</Heading>\r\n  return (\r\n    <Box>\r\n      {isEditing ? (\r\n        <Stack>\r\n          {heading}\r\n          <Textarea placeholder=\"直接貼上excel資料(含表頭)\" defaultValue={value} ref={ref} />\r\n          <Checkbox\r\n            colorScheme=\"orange\"\r\n            defaultChecked={transposeData}\r\n            onChange={e => setTranspose(e.target.checked)}\r\n          >轉置資料</Checkbox>\r\n          <Box>\r\n            <Button onClick={handleClick} mt=\"1em\">儲存</Button>\r\n          </Box>\r\n        </Stack>\r\n      ) : (\r\n        <Box>\r\n          <HStack spacing=\"1em\" mb=\"0.5em\">\r\n            {heading}\r\n            <Box flex=\"1\" />\r\n            <Button variant=\"outline\" onClick={() => formik.setValues({})} leftIcon={<MdRefresh />}>重設欄位</Button>\r\n            <Button variant=\"outline\" onClick={() => setIsEditing(true)} leftIcon={<MdEdit />}>編輯資料</Button>\r\n          </HStack>\r\n          <StyledTable\r\n            columns={columns}\r\n            data={data}\r\n            scroll={{ y: 300, x: true }}\r\n            rowKey=\"id\"\r\n            useFixedHeader\r\n          />\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default DataManager\r\n","import { Stack } from '@chakra-ui/layout'\nimport React, { createElement, useMemo, PureComponent, useState } from 'react'\nimport { useLocalStorage } from 'react-use'\nimport { tsvParseRows } from 'd3-dsv'\nimport { Text } from '@chakra-ui/layout'\nimport { transpose } from 'd3-array'\nimport { zip } from 'lodash'\n\nimport DataManager from './DataManager'\n\nconst requiredFields = {\n  map: {\n    name: '國家名',\n    value: '數值',\n  },\n  scatter: {\n    x1: '前期出口額',\n    x2: '當期出口額',\n    y1: '前期年增率',\n    y2: '當期年增率',\n    group: '產業分類',\n    name: '產業細項',\n  },\n}\n\nclass ChartRenderer extends PureComponent {\n  state = { hasError: false }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: error };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    console.error(errorInfo)\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <Stack my=\"2em\">\n          <Text fontSize=\"lg\">設定有誤</Text>\n          <Text color=\"red.500\">{this.state.hasError}</Text>\n        </Stack>\n      )\n    }\n\n    const { chart, data, config } = this.props\n    return createElement(chart, { data, config })\n  }\n}\n\nconst ChartEditor = ({ type, chart, title }) => {\n  const [transposeData, setTranspose] = useState(type === 'map')\n  const [config, setConfig] = useLocalStorage(`re-trading-config:${type}`, {})\n  const [pastedData, setPastedData] = useLocalStorage(`re-trading-data:${type}`, '')\n  const data = useMemo(() => {\n    let parsed = tsvParseRows(pastedData)\n    if (transposeData) {\n      parsed = transpose(parsed)\n    }\n    const head = parsed.shift()\n    return parsed.map((d, i) => ({ ...Object.fromEntries(zip(head, d)), id: i + 1 }))\n  }, [pastedData, transposeData])\n  // console.log(data)\n  // console.log(config)\n  return (\n    <Stack p=\"1em\" spacing=\"1.5em\">\n      <DataManager\n        value={pastedData}\n        config={config}\n        data={data}\n        fields={requiredFields[type]}\n        onConfigChange={setConfig}\n        onValueChange={setPastedData}\n        transposeData={transposeData}\n        setTranspose={setTranspose}\n        title={title}\n      />\n      {data && data.length && <ChartRenderer chart={chart} data={data} config={config} setConfig={setConfig} />}\n    </Stack>\n  )\n}\n\nexport default ChartEditor\n","import React, { forwardRef } from 'react';\r\nimport { Text } from \"@chakra-ui/react\";\r\nimport range from 'lodash/range';\r\nimport styled from '@emotion/styled'\r\n\r\nconst ReText = styled(Text)``\r\n\r\nReText.Inline = forwardRef((props, ref) => <ReText as=\"span\" {...props} ref={ref} />);\r\nReText.Bold = forwardRef((props, ref) => <ReText fontWeight=\"700\" {...props} ref={ref} />);\r\nReText.Thin = forwardRef((props, ref) => <ReText fontWeight=\"200\" {...props} ref={ref} />);\r\n\r\nrange(1, 7).forEach((key) => {\r\n  ReText[`H${key}`] = forwardRef((props, ref) => (\r\n    <ReText\r\n      as={`h${key}`}\r\n      fontSize={`${5 - key}xl`}\r\n      {...props}\r\n      ref={ref}\r\n    />\r\n  ));\r\n});\r\n\r\nexport default ReText\r\n","import { AxisLeft, AxisBottom } from '@visx/axis';\r\nimport { GridColumns, GridRows } from '@visx/grid';\r\nimport { Group } from '@visx/group'\r\nimport { BarRounded, Circle, Line } from '@visx/shape'\r\nimport { get, range } from 'lodash';\r\nimport React, { forwardRef, useMemo } from 'react'\r\nimport { format } from 'd3-format'\r\nimport { useTooltip, useTooltipInPortal, defaultStyles } from '@visx/tooltip';\r\nimport { localPoint } from '@visx/event';\r\nimport { HStack, Stack } from '@chakra-ui/layout';\r\nimport composeRefs from '@seznam/compose-react-refs'\r\nimport { useToken } from '@chakra-ui/system';\r\nimport { useMeasure } from 'react-use';\r\n\r\nimport theme from '../ThemeProvider/theme'\r\n\r\nimport Text from '../Text'\r\nimport getExtent from './getExtent';\r\n\r\nconst defaultMargin = {\r\n  top: 36,\r\n  right: 52,\r\n  bottom: 45,\r\n  left: 60,\r\n};\r\n\r\nconst tooltipStyles = {\r\n  ...defaultStyles,\r\n  padding: 12,\r\n  minWidth: 60,\r\n  backgroundColor: 'rgba(0,0,0,0.9)',\r\n  color: 'white',\r\n};\r\n\r\nconst perFormat = format('.2r')\r\nconst commaFormat = format(',')\r\nconst commaSignedFormat = format('+,')\r\nlet tooltipTimeout\r\n\r\nconst Legend = ({ x, y, fill, children }) => (\r\n  <Group left={x} top={y}>\r\n    <rect width={24} height={10} fill={fill} x={-32} y={0} />\r\n    <text x={0} y={10} fontWeight=\"900\" fontSize=\"13\">{children}</text>\r\n  </Group>\r\n)\r\n\r\nconst ScatterLink = forwardRef(({\r\n  width,\r\n  height,\r\n  margin = defaultMargin,\r\n  xScale: xScaleBase,\r\n  yScale: yScaleBase,\r\n  data,\r\n  series,\r\n  highlight,\r\n  config,\r\n}, ref) => {\r\n  const {\r\n    tooltipOpen,\r\n    tooltipLeft,\r\n    tooltipTop,\r\n    tooltipData,\r\n    hideTooltip,\r\n    showTooltip,\r\n  } = useTooltip();\r\n  const [measureRef, canvasSize] = useMeasure()\r\n  const [chartRed, chartGreen] = useToken('colors', ['chart.red', 'chart.green'])\r\n  const { containerRef, TooltipInPortal } = useTooltipInPortal({\r\n    // TooltipInPortal is rendered in a separate child of <body /> and positioned\r\n    // with page coordinates which should be updated on scroll. consider using\r\n    // Tooltip or TooltipWithBounds if you don't need to render inside a Portal\r\n    scroll: true,\r\n  });\r\n\r\n  const allData = series.reduce((all, { x, y }) => all.concat(data.map(d => ({ x: x(d), y: y(d) }))), [])\r\n  // console.log(allData)\r\n  // bounds\r\n  const xMax = width - margin.left - margin.right;\r\n  const yMax = height - margin.top - margin.bottom;\r\n  const xScale = useMemo(() => xScaleBase && xScaleBase({\r\n    domain: getExtent(allData, 'x').map((d, i) => i ? d * 1.1 : d * 0.9), // x-coordinate data values\r\n    range: [0, xMax], // svg x-coordinates, svg x-coordinates increase left to right\r\n  }), [allData, xMax, xScaleBase]);\r\n  const xTickValues = useMemo(() => {\r\n    if (!xScale) return []\r\n    const domain = xScale.domain()\r\n    const min = Math.log10(domain[0])\r\n    const max = Math.log10(domain[1])\r\n    return range(Math.ceil(min), max).map(x => 10 ** x)\r\n  }, [xScale])\r\n  const yScale = useMemo(() => yScaleBase && yScaleBase({\r\n    domain: getExtent(allData, 'y'), // y-coordinate data values\r\n    range: [yMax, 0], // svg y-coordinates, svg y-coordinates increase left to right\r\n  }), [allData, yMax, yScaleBase]);\r\n  if (width < 10 || !data || !xScaleBase || !yScaleBase || !series) return null;\r\n  return (\r\n    <div ref={measureRef}>\r\n      <svg\r\n        viewBox={`0 0 ${width} ${height}`}\r\n        ref={composeRefs(ref, containerRef)}\r\n        style={{ width: '100%', fontFamily: theme.fonts.body }}\r\n      >\r\n        <BarRounded height={height} width={width} fill=\"white\" radius={30} x={0} y={0} all />\r\n        <Group left={margin.left} top={margin.top}>\r\n          <GridRows\r\n            scale={yScale}\r\n            width={xMax}\r\n            height={yMax}\r\n            stroke=\"black\"\r\n            strokeOpacity={0.1}\r\n            strokeDasharray=\"3 3\"\r\n          />\r\n          <GridColumns\r\n            scale={xScale}\r\n            width={xMax}\r\n            height={yMax}\r\n            stroke=\"black\"\r\n            strokeOpacity={0.1}\r\n            tickValues={xTickValues}\r\n          />\r\n          <AxisBottom\r\n            top={yScale(0)}\r\n            scale={xScale}\r\n            strokeWidth={2}\r\n            tickValues={xTickValues}\r\n            tickFormat={commaFormat}\r\n            tickLabelProps={() => ({ fontSize: 10, textAnchor: 'middle', fontWeight: 'bold' })}\r\n          />\r\n          <AxisLeft\r\n            scale={yScale}\r\n            hideAxisLine\r\n            hideTicks\r\n          />\r\n          <Group>\r\n            {data.map((d, j) => {\r\n              const x1 = series[0].x(d)\r\n              const x2 = series[1].x(d)\r\n              const y1 = series[0].y(d)\r\n              const y2 = series[1].y(d)\r\n              const isHighlight = get(highlight, [config.group ? d[config.group] : 'All', d[config.name]])\r\n              return (\r\n                <Line\r\n                  key={`line-${j}`}\r\n                  className=\"line\"\r\n                  from={{\r\n                    x: xScale(x1),\r\n                    y: yScale(y1),\r\n                  }}\r\n                  to={{\r\n                    x: xScale(x2),\r\n                    y: yScale(y2),\r\n                  }}\r\n                  stroke={x2 < x1 ? chartGreen : chartRed}\r\n                  strokeWidth={3}\r\n                  opacity={tooltipOpen && d.id !== tooltipData.id ? (isHighlight ? 0.3 : 0.05) : (isHighlight ? 0.9 : 0.1)}\r\n                  onMouseLeave={() => {\r\n                    tooltipTimeout = window.setTimeout(() => {\r\n                      hideTooltip();\r\n                    }, 300);\r\n                  }}\r\n                  onMouseMove={event => {\r\n                    if (tooltipTimeout) clearTimeout(tooltipTimeout);\r\n                    // TooltipInPortal expects coordinates to be relative to containerRef\r\n                    // localPoint returns coordinates relative to the nearest SVG, which\r\n                    // is what containerRef is set to in this example.\r\n                    const eventSvgCoords = localPoint(event);\r\n                    showTooltip({\r\n                      tooltipData: { ...d, group: d[config.group], name: d[config.name], diff: x2 - x1 },\r\n                      tooltipTop: eventSvgCoords?.y,\r\n                      tooltipLeft: eventSvgCoords?.x,\r\n                    });\r\n                  }}\r\n                />\r\n              )\r\n            })}\r\n          </Group>\r\n          <Group>\r\n            {data.map((d, j) => {\r\n              const isHighlight = get(highlight, [config.group ? d[config.group] : 'All', d[config.name]])\r\n              return (\r\n                <Circle\r\n                  key={`point-${j}`}\r\n                  className=\"dot\"\r\n                  cx={xScale(series[1].x(d))}\r\n                  cy={yScale(series[1].y(d))}\r\n                  fill=\"black\"\r\n                  opacity={isHighlight ? 1 : (tooltipOpen && d.id !== tooltipData.id ? 0.05 : 0.3)}\r\n                  r={3}\r\n                />\r\n              )\r\n            })}\r\n          </Group>\r\n        </Group>\r\n        <Group left={margin.left - 8} top={margin.top - 14}>\r\n          <text\r\n            fontSize={12}\r\n            fontWeight=\"700\"\r\n            textAnchor=\"end\"\r\n          >年增率</text>\r\n          <text\r\n            fontSize={10}\r\n            x={5}\r\n            y={14}\r\n            textAnchor=\"end\"\r\n          >（％）</text>\r\n        </Group>\r\n        <Group left={width - 28} top={yScale(0) + margin.top + 4}>\r\n          <text\r\n            fontSize={12}\r\n            fontWeight=\"700\"\r\n            textAnchor=\"middle\"\r\n          >出口額</text>\r\n          <text\r\n            y={14}\r\n            fontSize={10}\r\n            textAnchor=\"middle\"\r\n          >(萬美元)</text>\r\n        </Group>\r\n        <Group left={width - 28} top={height - 26}>\r\n          <Legend x={-260} fill={chartRed}>成長</Legend>\r\n          <Legend x={-180} fill={chartGreen}>衰退</Legend>\r\n          <Group left={-80}>\r\n            {series.map((s, i) => <text fontSize={12} fontWeight=\"700\" y={10} key={i} x={-52 + (i * 90)}>{s.label}</text>)}\r\n            <rect width={30} height={7} fill=\"#DCDCDC\" x={0} y={2} />\r\n            <circle r={7} fill=\"black\" strokeWidth={2} stroke=\"white\" cx={26} cy={5} />\r\n          </Group>\r\n        </Group>\r\n        {tooltipOpen && tooltipData && (\r\n          <TooltipInPortal top={tooltipTop * canvasSize.height / height} left={tooltipLeft * canvasSize.width / width} style={tooltipStyles}>\r\n            <Stack>\r\n              {tooltipData.group && (\r\n                <Text fontWeight=\"bold\" fontSize=\"0.875em\">\r\n                  {tooltipData.group}\r\n                </Text>\r\n              )}\r\n              <Text fontSize=\"1.125em\">\r\n                {tooltipData.name}\r\n              </Text>\r\n              <HStack py=\"0.5em\" spacing=\"1em\">\r\n                {series.map(({ x, y, label }, i)=> (\r\n                  <Stack key={i}>\r\n                    <Text>{label}:</Text>\r\n                    <Text fontWeight=\"bold\" fontSize=\"1.125em\">{commaFormat(x(tooltipData))}</Text>\r\n                    <Text>{perFormat(y(tooltipData))}%</Text>\r\n                  </Stack>\r\n                ))}\r\n              </HStack>\r\n              <Text\r\n                fontWeight=\"bold\"\r\n                fontSize=\"1.125em\"\r\n                color={tooltipData.diff < 0 ? 'chart.green' : 'chart.red'}\r\n              >\r\n                {commaSignedFormat(tooltipData.diff)}\r\n              </Text>\r\n            </Stack>\r\n          </TooltipInPortal>\r\n        )}\r\n      </svg>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default ScatterLink\r\n","import { maxBy, minBy } from \"lodash\"\r\n\r\nconst getExtent = (data, accessor) => {\r\n  if (!data.length) return [0, 0]\r\n  const max = maxBy(data, accessor)\r\n  const min = minBy(data, accessor)\r\n  if (!min || !max) return [0, 0]\r\n  if (typeof accessor === 'string') return [min[accessor], max[accessor]]\r\n  return [accessor(min), accessor(max)]\r\n}\r\n\r\nexport default getExtent\r\n","import React, { forwardRef } from 'react';\r\nimport { Box } from \"@chakra-ui/react\";\r\nimport styled from '@emotion/styled'\r\n\r\nconst ReBox = styled(Box)``\r\n\r\nexport default ReBox\r\n\r\nReBox.Inline = forwardRef((props, ref) => <ReBox as=\"span\" display=\"inline-block\" verticalAlign=\"middle\" {...props} ref={ref} />);\r\nReBox.Absolute = forwardRef((props, ref) => <ReBox position=\"absolute\" {...props} ref={ref} />);\r\nReBox.FullAbs = forwardRef((props, ref) => <ReBox.Absolute top=\"0\" left=\"0\" right=\"0\" bottom=\"0\" {...props} ref={ref} />)\r\nReBox.Relative = forwardRef((props, ref) => <ReBox position=\"relative\" {...props} ref={ref} />)\r\nReBox.Fixed = forwardRef((props, ref) => <ReBox position=\"fixed\" {...props} ref={ref} />)\r\nReBox.Invisible = forwardRef((props, ref) => <ReBox.Absolute width=\"0\" height=\"0\" overflow=\"hidden\" opacity=\"0\" {...props} ref={ref} />)\r\n","import { Checkbox, CheckboxGroup } from '@chakra-ui/checkbox'\r\nimport { Box, Flex, Heading, HStack, Stack, Text } from '@chakra-ui/layout'\r\nimport { indexOf, map } from 'lodash'\r\nimport React, { useMemo } from 'react'\r\n\r\nconst OptionGroups = ({ name, value = [], onChange, options = [] }) => {\r\n  const checkedItems = useMemo(() => options.map(v => indexOf(value, v) > -1), [options, value])\r\n  const allChecked = checkedItems.every(Boolean)\r\n  const isIndeterminate = checkedItems.some(Boolean) && !allChecked\r\n  return (\r\n    <Stack>\r\n      <HStack>\r\n        <Heading as=\"h3\" fontSize=\"md\">{name}</Heading>\r\n        {options.length > 1 && (\r\n          <Box fontWeight=\"bold\">\r\n            <Checkbox\r\n              colorScheme=\"orange\"\r\n              isChecked={allChecked}\r\n              isIndeterminate={isIndeterminate}\r\n              onChange={(e) => onChange(e.target.checked ? options : [])}\r\n            >\r\n              全部\r\n            </Checkbox>\r\n          </Box>\r\n        )}\r\n      </HStack>\r\n      <CheckboxGroup\r\n        colorScheme=\"orange\"\r\n        id={name}\r\n        onChange={onChange}\r\n        value={value}\r\n      >\r\n        <Flex wrap=\"wrap\">\r\n          {options.map((n, j) => typeof n === 'string' && (\r\n            <Box key={n + j} m=\"0.25em\">\r\n              <Checkbox value={n}>{n}</Checkbox>\r\n            </Box>\r\n          ))}\r\n        </Flex>\r\n      </CheckboxGroup>\r\n    </Stack>\r\n  )\r\n}\r\n\r\nconst HightlightCheckbox = ({ options, formik, nameKey }) => {\r\n  const groups = useMemo(() => map(options, (children, name) => ({ name, children: map(children, nameKey) })).sort((a, b) => a.children.length - b.children.length), [options, nameKey])\r\n  if (!nameKey) return null\r\n  return (\r\n    <Box>\r\n      <Text fontSize=\"lg\" fontWeight=\"bold\">強調品項</Text>\r\n      <Flex flexWrap=\"wrap\" mx=\"-0.5em\">\r\n        {groups.map((g, i) => (\r\n          <Box key={g.name + i} p=\"0.5em\" m=\"0.5em\" border=\"1px solid\" borderColor=\"gray.300\">\r\n            <OptionGroups\r\n              name={g.name}\r\n              onChange={checked => formik.setFieldValue(g.name, checked)}\r\n              value={formik.values[g.name]}\r\n              options={g.children}\r\n            />\r\n          </Box>\r\n        ))}\r\n      </Flex>\r\n      {/* <Tabs colorScheme=\"orange\">\r\n        <TabList flexWrap=\"wrap\">\r\n          {groups.map((g, i) => (\r\n            <Tab key={g.name + i} color={formik.values[g.name]?.length ? 'orange.600' : 'inherit'}>\r\n              {g.name}\r\n              <Text ml=\"0.5em\" fontSize=\"xs\">({formik.values[g.name]?.length || 0}/{g.children.length})</Text>\r\n            </Tab>\r\n          ))}\r\n        </TabList>\r\n        <TabPanels>\r\n          {groups.map((g, i) => (\r\n            <TabPanel key={g.name + i}>\r\n              <OptionGroups\r\n                name={g.name}\r\n                onChange={checked => formik.setFieldValue(g.name, checked)}\r\n                value={formik.values[g.name]}\r\n                options={g.children}\r\n              />\r\n            </TabPanel>\r\n          ))}\r\n        </TabPanels>\r\n      </Tabs> */}\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default HightlightCheckbox\r\n","import { Link } from \"@chakra-ui/react\";\r\nimport styled from '@emotion/styled'\r\n\r\nexport default styled(Link)``\r\n","import React from 'react';\r\nimport { Button } from \"@chakra-ui/react\";\r\n\r\nimport Link from './Link'\r\n\r\nconst ReButton = ({ href, ...props }) => {\r\n  if (href) return <Button as={p => <Link {...p} href={href} />} {...props} />\r\n  return <Button {...props} />\r\n}\r\n\r\nReButton.defaultProps = {\r\n  colorScheme: 'orange',\r\n}\r\n\r\nReButton.Secondary = props => (\r\n  <ReButton colorScheme=\"green\" {...props} />\r\n)\r\n\r\nReButton.Danger = props => (\r\n  <ReButton colorScheme=\"red\" {...props} />\r\n)\r\n\r\nexport default ReButton\r\n","const PIXEL_RATIO = (function () {\r\n  if (typeof window === 'undefined') return 1\r\n  const ctx = document.createElement('canvas').getContext('2d'),\r\n      dpr = window.devicePixelRatio || 1,\r\n      bsr = ctx.webkitBackingStorePixelRatio ||\r\n            ctx.mozBackingStorePixelRatio ||\r\n            ctx.msBackingStorePixelRatio ||\r\n            ctx.oBackingStorePixelRatio ||\r\n            ctx.backingStorePixelRatio || 1;\r\n\r\n  return dpr / bsr;\r\n})();\r\n\r\nconst setHiDPICanvas = function(canvas, w, h, ratio) {\r\n  if (!ratio) { ratio = PIXEL_RATIO; }\r\n  const can = canvas;\r\n  can.width = w * ratio;\r\n  can.height = h * ratio;\r\n  can.style.width = w + 'px';\r\n  can.style.height = h + 'px';\r\n  can.getContext('2d').setTransform(ratio, 0, 0, ratio, 0, 0);\r\n}\r\n\r\nconst svgToCanvas = (svgStr, width, height) => {\r\n  if (!svgStr || !width || !height) return Promise.resolve(null)\r\n  const canvas = document.createElement('canvas');\r\n  setHiDPICanvas(canvas, width, height)\r\n  const ctx = canvas.getContext('2d');\r\n  const url = 'data:image/svg+xml; charset=utf8, ' + encodeURIComponent(svgStr);\r\n  const image = new Image();\r\n\r\n  return new Promise((res) => {\r\n    image.onload = () => {\r\n      ctx.drawImage(image, 0, 0);\r\n      URL.revokeObjectURL(url);\r\n      res(canvas)\r\n    }\r\n    image.src = url;\r\n  })\r\n}\r\n\r\nexport default svgToCanvas\r\n","import React, { useCallback, useState } from 'react'\r\nimport { saveAs } from 'file-saver'\r\n\r\nimport Button from '../components/Button'\r\n\r\nimport svgToCanvas from '../utils/svgToCanvas'\r\nimport '../vendor/Blob'\r\nimport '../vendor/canvas-toBlob'\r\n\r\nconst DownloadChart = ({ chartRef, width, height, name }) => {\r\n  const [downloading, setDownloading] = useState()\r\n  const handleDownload = useCallback(async () => {\r\n    setDownloading(true)\r\n    const date = new Date().toLocaleDateString()\r\n    const serializer = new XMLSerializer();\r\n    let source = serializer.serializeToString(chartRef.current);\r\n    source = source.replace(/^<svg/, `<svg width=\"${width}\" height=\"${height}\"`);\r\n    // if (!source.match(/^<svg[^>]+xmlns=\"http:\\/\\/www\\.w3\\.org\\/2000\\/svg\"/)) {\r\n    //   source = source.replace(/^<svg/, '<svg xmlns=\"http://www.w3.org/2000/svg\"');\r\n    // }\r\n    // if (!source.match(/^<svg[^>]+\"http:\\/\\/www\\.w3\\.org\\/1999\\/xlink\"/)) {\r\n    //   source = source.replace(/^<svg/, '<svg xmlns:xlink=\"http://www.w3.org/1999/xlink\"');\r\n    // }\r\n    const canvas = await svgToCanvas(source, width, height)\r\n    canvas.toBlob((blob) => {\r\n      saveAs(blob, `${name}-${date}.png`);\r\n      setDownloading(false)\r\n    });\r\n\r\n    //convert svg source to URI data scheme.\r\n    // const blob = new Blob([source], { type: 'image/svg+xml' });\r\n    // saveAs(blob, `${date}.svg`);\r\n  }, [chartRef, height, width, name])\r\n  return <Button isLoading={downloading} onClick={handleDownload}>下載PNG</Button>\r\n}\r\n\r\nexport default DownloadChart\r\n","import React, { useMemo, useRef } from 'react'\r\nimport { scaleLinear, scaleLog } from '@visx/scale'\r\nimport { groupBy, mapValues } from 'lodash'\r\nimport { AspectRatio, Stack } from \"@chakra-ui/react\"\r\nimport { useFormik } from 'formik'\r\n\r\nimport ScatterLink from '../../components/Charts/ScatterLink'\r\nimport Box from '../../components/Box'\r\nimport HightlightCheckbox from './HightlightCheckbox'\r\nimport DownloadChart from '../DownloadChart'\r\n\r\nconst w = 814\r\nconst h = 380\r\n\r\nconst GrowthScatter = ({ data, config= {} }) => {\r\n  const svgRef = useRef()\r\n  const groups = useMemo(() => config.group ? groupBy(data, config.group) : { All: data }, [data, config.group])\r\n  const formik = useFormik({ initialValues: {} })\r\n  const filteredData = useMemo(() => {\r\n    if (data) {\r\n      return data && data.filter(d => d[config.x1] > 0 && d[config.x2] > 0)\r\n    }\r\n    return data\r\n  }, [data, config])\r\n  const highlight = useMemo(() => mapValues(formik.values, v => v && v.reduce((a, k) => {\r\n    a[k] = true\r\n    return a\r\n  }, {})), [formik.values])\r\n\r\n  const requiredDone = useMemo(() => ['x1', 'x2', 'y1', 'y2'].every(k => config[k]), [config])\r\n  return (\r\n    <Stack spacing=\"1em\" py=\"1em\">\r\n      <HightlightCheckbox\r\n        options={groups}\r\n        formik={formik}\r\n        nameKey={config.name}\r\n      />\r\n      {requiredDone && (\r\n        <>\r\n          <Box p=\"2em\" bg=\"gray.100\" rounded=\"2xl\">\r\n            <AspectRatio ratio={w / h}>\r\n              <ScatterLink\r\n                width={w}\r\n                height={h}\r\n                data={filteredData}\r\n                xScale={scaleLog}\r\n                yScale={scaleLinear}\r\n                series={[\r\n                  { x: d => d[config.x1] * 1, y: d => d[config.y1] * 1, label: config.x1 },\r\n                  { x: d => d[config.x2] * 1, y: d => d[config.y2] * 1, label: config.x2 },\r\n                ]}\r\n                config={config}\r\n                highlight={highlight}\r\n                ref={svgRef}\r\n              />\r\n            </AspectRatio>\r\n          </Box>\r\n          <Box>\r\n            <DownloadChart chartRef={svgRef} width={w} height={h} name=\"火柴棒圖\" />\r\n          </Box>\r\n        </>\r\n      )}\r\n    </Stack>\r\n  )\r\n}\r\n\r\nexport default GrowthScatter\r\n","import { useToken } from '@chakra-ui/system'\nimport React, { forwardRef, useCallback, useMemo } from 'react'\nimport { Mercator } from '@visx/geo';\nimport * as topojson from 'topojson-client';\nimport { BarRounded } from '@visx/shape';\nimport { scaleQuantize } from '@visx/scale';\nimport { Group } from '@visx/group';\nimport { maxBy, range } from 'lodash';\nimport { format } from 'd3-format';\n\nimport topology from './world-topo.json';\n\nimport theme from '../ThemeProvider/theme'\nimport arrToObj from '../../utils/arrToObj'\n// import getExtent from './getExtent';\n\nconst world = topojson.feature(topology, topology.objects.countries)\nconst commaFormat = format(',')\n\nconst config = {\n  8: [2, 5],\n  9: [2, 6],\n  10: [2, 6],\n  11: [3, 5],\n  12: [3, 5],\n  13: [3, 6],\n  14: [3, 6],\n  15: [3, 6],\n}\n\nconst Choropleth = forwardRef(({\n  width,\n  height,\n  data,\n}, ref) => {\n  const colors = useToken('colors', ['chart.blue', 'chart.yellow', 'chart.orange', 'chart.red', 'orange.700'])\n  const centerX = width / 2;\n  const centerY = height / 2;\n  const scale = (width / 1100) * 100;\n  const xMax = useMemo(() => {\n    const max = maxBy(data, 'value')\n    return max ? Math.ceil(Math.log10(max.value)) : 8\n  }, [data])\n\n  const cfg = useMemo(() => config[xMax], [xMax])\n  const colorScale = useCallback((v) => {\n    return scaleQuantize({\n      domain: [0, xMax],\n      range: colors.slice(0, cfg[1] - 1),\n    })(Math.log10(v))\n  }, [colors, xMax, cfg]);\n\n  const keyedData = useMemo(() => arrToObj(data, 'id'), [data])\n\n  const legend = useMemo(() => range(0, Math.ceil(xMax / cfg[0]) * cfg[0] + 1, cfg[0]).reduce((all, p, i) => all.concat([\n    i ? <rect key={`bar-${i}`} x={50 * (i - 1)} y={4} width={50} height={4} fill={colorScale(10 ** (p - cfg[0]))} /> : null,\n    (<text\n      fontSize={7}\n      fontWeight=\"700\"\n      x={50 * i}\n      textAnchor=\"middle\"\n      key={p}\n    >{p ? commaFormat(10 ** p) : 0}</text>)\n  ]), []), [cfg, colorScale, xMax])\n\n  const renderMap = mercator => (\n    <g>\n      {mercator.features.map(({ feature, path }, i) => (\n        <path\n          key={`map-feature-${i}`}\n          d={path || ''}\n          fill={colorScale(keyedData[feature.properties.name]?.value || 0)}\n        />\n      ))}\n    </g>\n  )\n\n  return (\n    <svg\n      viewBox={`0 0 ${width} ${height}`}\n      ref={ref}\n      style={{ width: '100%', fontFamily: theme.fonts.body }}\n    >\n      <BarRounded height={height} width={width} fill=\"#D2D2D2\" radius={15} x={0} y={0} all />\n      <BarRounded height={height - 5} width={width} fill=\"white\" radius={15} x={0} y={0} all />\n      <g\n        style={{\n          transformOrigin: `${centerX}px ${centerY}px`,\n          transform: 'scale(1.3, 1)',\n        }}\n      >\n        <Mercator\n          data={world.features}\n          scale={scale}\n          center={[180, 45]}\n          translate={[centerX, centerY]}\n          clipExtent={[[width * 0.191, 0], [width / 2, height]]}\n        >\n          {renderMap}\n        </Mercator>\n        <Mercator\n          data={world.features}\n          scale={scale}\n          center={[-180, 45]}\n          translate={[centerX, centerY]}\n          clipExtent={[[width / 2, 0], [width * 0.761, height]]}\n        >\n          {renderMap}\n        </Mercator>\n      </g>\n      <Group left={16} top={height - 20}>\n        {legend}\n      </Group>\n    </svg>\n  )\n})\n\nexport default Choropleth\n","import { get, isArray } from 'lodash';\r\n\r\nexport default function arrToObj(arr, key) {\r\n  if (!isArray(arr)) return {}\r\n  return arr.reduce((obj, a, i) => {\r\n    obj[typeof key === 'undefined' ? i : get(a, key)] = a\r\n    return obj\r\n  }, {})\r\n}\r\n","import { tsv } from \"d3-fetch\"\r\nimport { useEffect, useState } from \"react\"\r\n\r\nconst useTsv = (path) => {\r\n  const [loading, setLoading] = useState()\r\n  const [error, setError] = useState()\r\n  const [data, setData] = useState()\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    setError(null)\r\n    tsv(path).then(d => {\r\n      setLoading(false)\r\n      setData(d)\r\n    }).catch(e => {\r\n      setLoading(false)\r\n      setError(e)\r\n    })\r\n  }, [path])\r\n  return { data, loading, error }\r\n}\r\n\r\nexport default useTsv\r\n","export default __webpack_public_path__ + \"static/media/countries.12d028c6.tsv\";","import { AspectRatio, Box, Flex, Stack, Text } from '@chakra-ui/layout'\nimport { Tag } from '@chakra-ui/tag'\nimport React, { useMemo, useRef } from 'react'\n\nimport Choropleth from '../../components/Charts/Choropleth'\nimport useTsv from '../../utils/useTsv'\nimport DownloadChart from '../DownloadChart'\n\nimport country from './countries.tsv'\n\nconst w = 576\nconst h = 232\n\nconst CountryChoro = ({ data, config= {} }) => {\n  const svgRef = useRef()\n  const { data: countries, loading } = useTsv(country)\n  const requiredDone = useMemo(() => ['name', 'value'].every(k => config[k]) && !loading, [config, loading])\n  const [namedData, missedData] = useMemo(() => {\n    const defaultValue = [[], []]\n    if (!countries) return defaultValue\n    const countryEn = countries.reduce((en, c) => {\n      en[c.name] = c.eng\n      return en\n    }, {})\n    return data.reduce((all, d) => {\n      const name = d[config.name]\n      const value = d[config.value] * 1\n      const id = countryEn[name]\n      if (id) {\n        all[0].push({ id, name, value })\n      } else {\n        all[1].push({ name, value })\n      }\n      return all\n    }, defaultValue)\n  }, [countries, data, config])\n  return (\n    <Stack>\n      {requiredDone && (\n        <>\n          {missedData.length && (\n            <Box>\n              <Text>對應不到英文的國家：</Text>\n              <Flex flexWrap=\"wrap\">{missedData.map((d, i) => <Tag m=\"0.5em\" key={i}>{d.name} ({d.value})</Tag>)}</Flex>\n            </Box>\n          )}\n          <Box p=\"2em\" bg=\"gray.100\" rounded=\"2xl\">\n            <AspectRatio ratio={w / h}>\n              <Choropleth\n                width={w}\n                height={h}\n                data={namedData}\n                ref={svgRef}\n              />\n            </AspectRatio>\n          </Box>\n          <Box>\n            <DownloadChart chartRef={svgRef} width={w} height={h} name=\"地圖\" />\n          </Box>\n        </>\n      )}\n    </Stack>\n  )\n}\n\nexport default CountryChoro\n","import React, { forwardRef } from 'react'\r\nimport { Flex } from \"@chakra-ui/react\";\r\nimport styled from '@emotion/styled'\r\n\r\nconst ReFlex = styled(Flex)``\r\n\r\nReFlex.Vertical = forwardRef((props, ref) => <Flex direction=\"column\" {...props} ref={ref} />)\r\n\r\nexport default ReFlex\r\n","import React from 'react'\r\nimport { Box, Heading, HStack } from \"@chakra-ui/react\";\r\nimport { Link as RouterLink } from 'react-router-dom'\r\n\r\nimport Link from '../components/Link';\r\nimport Flex from '../components/Flex';\r\n\r\nconst links = [\r\n  { label: '地圖', path: '/' },\r\n  { label: '火柴棒圖', path: '/scatter' },\r\n]\r\n\r\nconst Header = ({ siteTitle, ...props }) => (\r\n  <Flex\r\n    as={Flex}\r\n    position=\"fixed\"\r\n    bg=\"orange.400\"\r\n    top={0}\r\n    left={0}\r\n    right={0}\r\n    alignItems=\"center\"\r\n    zIndex=\"docked\"\r\n    px=\"1em\"\r\n    {...props}\r\n  >\r\n    <Heading as=\"h1\" color=\"white\">\r\n      {siteTitle}\r\n    </Heading>\r\n    <Box flex=\"1\" />\r\n    <HStack spacing=\"1em\">\r\n      {links.map(({ label, path }, i) => <Link key={i} fontSize=\"1.25em\" color=\"white\" to={path} as={RouterLink}>{label}</Link>)}\r\n    </HStack>\r\n  </Flex>\r\n)\r\n\r\nexport default Header\r\n","import React, { useContext } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport Box from '../components/Box';\r\nimport theme from '../components/ThemeProvider/theme';\r\nimport headerContext from '../contexts/header/context'\r\n\r\nimport Header from './Header'\r\n\r\nconst Layout = ({ children }) => {\r\n  const { hideHeader } = useContext(headerContext)\r\n  return (\r\n    <>\r\n      {!hideHeader && <Header height={theme.headerHeight} siteTitle=\"Trading Chart Maker\" />}\r\n      <Box minHeight=\"100vh\" pt={!hideHeader && theme.headerHeight} maxW=\"100em\" mx=\"auto\">\r\n        {children}\r\n      </Box>\r\n    </>\r\n  )\r\n}\r\n\r\nLayout.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n}\r\n\r\nexport default Layout\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport ChartEditor from './containers/ChartEditor';\r\nimport GrowthScatter from './containers/GrowthScatter';\r\nimport CountryChoro from './containers/CountryChoro';\r\n\r\nimport Layout from './containers/Layout';\r\n\r\nfunction App() {\r\n  return (\r\n    <Layout>\r\n      <Switch>\r\n        <Route path=\"/scatter\">\r\n          <ChartEditor key=\"scatter\" type=\"scatter\" chart={GrowthScatter} title=\"火柴棒圖\" />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <ChartEditor key=\"map\" type=\"map\" chart={CountryChoro} title=\"地圖\" />\r\n        </Route>\r\n      </Switch>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import 'react-app-polyfill/ie11'\r\nimport 'react-app-polyfill/stable'\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter as Router } from 'react-router-dom'\r\n\r\nimport './vendor/Blob'\r\n\r\nimport ThemeProvider from './components/ThemeProvider'\r\nimport MediaProvider from './contexts/mediaQuery/MediaProvider'\r\nimport HeaderProvider from './contexts/header/Provider'\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <ThemeProvider>\r\n      <MediaProvider>\r\n        <HeaderProvider>\r\n          <App />\r\n        </HeaderProvider>\r\n      </MediaProvider>\r\n    </ThemeProvider>\r\n  </Router>\r\n, document.getElementById('root'));\r\n"],"sourceRoot":""}